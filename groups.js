$(document).ready(function () {
  // -----     FILE OVERVIEW     -----
  // 1. Check dark mode preference is saved to local storage - if not: add item to local storage - else: update render based on preference
  // 2. Check database is saved to local storage - if not: add default db item to local storage and initialise default db - else: initialise saved db

  // ---   REFERENCE NOTES   ---
  // link button
  // function openCreatePage() {
  //   window.location.href = "create.html";
  // }

  // set item in local storage
  // let quizTitleStringified = JSON.stringify(quizTitle);
  // localStorage.setItem("selectedQuiz", quizTitleStringified);

  // let quizKey = localStorage.key(integer);
  // let quizStringified = localStorage.getItem(quizKey);
  // let quiz = JSON.parse(quizStringified);

  // check dark/light mode setting
  let darkModeEnabled = JSON.parse(localStorage.getItem("darkModeEnabled"));
  if (darkModeEnabled === null) {
    localStorage.setItem("darkModeEnabled", JSON.stringify(false));
    darkModeEnabled = false;
  } else {
    if (darkModeEnabled) {
      $("html").attr("data-theme", "dark");
    }
  }

  // dark/light mode toggle functionality
  $("#dark-mode-toggle").click(function () {
    if (darkModeEnabled) {
      darkModeEnabled = false;
      localStorage.setItem("darkModeEnabled", JSON.stringify(false));
      $("html").attr("data-theme", "light"); // is equivalent to $(document.documentElement).attr('data-theme', 'dark');
    } else {
      darkModeEnabled = true;
      localStorage.setItem("darkModeEnabled", JSON.stringify(true));
      $("html").attr("data-theme", "dark"); // document.documentElement refers to the root element of the document, which is the <html> element.
    }
  });

  // show/hide hamburger drop down
  let dropdownHidden = true;
  $("#hamburger-menu").click(function () {
    const dropdown = $("#hamburger-dropdown");
    if (dropdownHidden) {
      dropdown.show();
      dropdownHidden = false;
    } else {
      dropdown.hide();
      dropdownHidden = true;
    }
  });
});

// retrieve/set selected year from localStorage
let year = localStorage.getItem("selectedYear");
if (year === null) {
  localStorage.setItem("selectedYear", JSON.stringify(2025));
  year = 2025;
}
console.log("Selected year: " + year);

// ---   SQL.JS   ---
// declare db variable so it can be updated if db-file uploaded
let db;

// convert uint8array to string using base64 encoding
function uint8ArrayToBase64(uint8Array) {
  let binaryString = String.fromCharCode.apply(null, uint8Array);
  return btoa(binaryString); // btoa() encodes to base64 in the browser
}

// convert base64 encoding back to uint8array
function base64ToUint8Array(base64String) {
  let binaryString = atob(base64String); // atob() decodes base64 to binary string
  let uint8Array = new Uint8Array(binaryString.length);

  for (let i = 0; i < binaryString.length; i++) {
    uint8Array[i] = binaryString.charCodeAt(i); // Convert each char back to byte
  }

  return uint8Array;
}

// locate the sql.js file
const config = {
  locateFile: (filename) => `/libraries/${filename}`,
  // if change folder structure then change <script> reference to match as well
};

// Initialise SQL JS
initSqlJs(config).then(function (SQL) {
  // check if db string is saved to localstorage
  let dbBase64String = localStorage.getItem("dbBase64String");
  if (dbBase64String === null) {
    console.log("db string not saved to local storage");
    // if not saved, add default db with no data stored in it
    const defaultDbSting =
      "U1FMaXRlIGZvcm1hdCAzABAAAQEAQCAgAAAABAAAAA0AAAADAAAAAQAAAA8AAAAEAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAC5fGgUAAAABD/sAAAAACg/7C6sKagpiAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAACCPgUHFyUlAYQ/dGFibGVsZXNzb25zXzIwMjVsZXNzb25zXzIwMjUGQ1JFQVRFIFRBQkxFICJsZXNzb25zXzIwMjUiICgKICAgIGlkIElOVEVHRVIgUFJJTUFSWSBLRVksCiAgICBkYXkgVEVYVCwKICAgIHRpbWUgVEVYVCwKICAgIHN0dWRlbnRfaWQgSU5URUdFUiwKICAgIGdyb3VwX2lkIElOVEVHRVIsCiAgICBGT1JFSUdOIEtFWShzdHVkZW50X2lkKSBSRUZFUkVOQ0VTIHN0dWRlbnRzXzIwMjUoaWQpIE9OIERFTEVURSBDQVNDQURFLAogICAgRk9SRUlHTiBLRVkoZ3JvdXBfaWQpIFJFRkVSRU5DRVMgZ3JvdXBzXzIwMjUoaWQpIE9OIERFTEVURSBDQVNDQURFCimCWQQHFycnAYRxdGFibGVzdHVkZW50c18yMDI1c3R1ZGVudHNfMjAyNQVDUkVBVEUgVEFCTEUgInN0dWRlbnRzXzIwMjUiICgKICAgIGlkIElOVEVHRVIgUFJJTUFSWSBLRVksCiAgICBzY2hvb2xfaWQgSU5URUdFUiwKICAgIGZpcnN0X25hbWUgVEVYVCwKICAgIGxhc3RfbmFtZSBURVhULAogICAgZm9ybV9jbGFzcyBURVhULAogICAgbm90ZXMgVEVYVCwKICAgIG1vYmlsZSBURVhULAogICAgZW1haWwgVEVYVCwKICAgIHllYXIgSU5URUdFUiwKICAgIGluc3RydW1lbnQgVEVYVCwKICAgIEZPUkVJR04gS0VZKHNjaG9vbF9pZCkgUkVGRVJFTkNFUyBzY2hvb2xzXzIwMjUoaWQpIE9OIERFTEVURSBDQVNDQURFCimCMAMHFx8fAYQvdGFibGVob2RzXzIwMjVob2RzXzIwMjUEQ1JFQVRFIFRBQkxFICJob2RzXzIwMjUiICgKICAgICJpZCIgSU5URUdFUiwKICAgICJzY2hvb2xfaWQiIElOVEVHRVIsCiAgICAiZmlyc3RfbmFtZSIgVEVYVCwKICAgICJsYXN0X25hbWUiIFRFWFQsCiAgICAibW9iaWxlIiBURVhULAogICAgInBob25lIiBURVhULAogICAgImVtYWlsIiBURVhULAogICAgUFJJTUFSWSBLRVkoImlkIiksCiAgICBGT1JFSUdOIEtFWSgic2Nob29sX2lkIikgUkVGRVJFTkNFUyAic2Nob29sc18yMDI1IigiaWQiKSBPTiBERUxFVEUgQ0FTQ0FERQopgUsCBxcjIwGCXXRhYmxlZ3JvdXBzXzIwMjVncm91cHNfMjAyNQNDUkVBVEUgVEFCTEUgImdyb3Vwc18yMDI1IiAoCiAgICBpZCBJTlRFR0VSIFBSSU1BUlkgS0VZLAogICAgbmFtZSBURVhULAogICAgcGFzdF9yZXBlcnRvaXJlIFRFWFQsCiAgICByZXBlcnRvaXJlIFRFWFQsCiAgICBmdXR1cmVfcmVwZXJ0b2lyZSBURVhULAogICAgaW5zdHJ1bWVudCBURVhUCimBdQEHFyUlAYMtdGFibGVzY2hvb2xzXzIwMjVzY2hvb2xzXzIwMjUCQ1JFQVRFIFRBQkxFICJzY2hvb2xzXzIwMjUiICgKICAgICJpZCIgSU5URUdFUiwKICAgICJuYW1lIiBURVhULAogICAgInJvb20iIFRFWFQsCiAgICAicGhvbmUiIFRFWFQsCiAgICAiaG9tZXBhZ2UiIFRFWFQsCiAgICAibm90ZXMiIFRFWFQsCiAgICAid2lmaSIgVEVYVCwKICAgICJwaG90b19jb3B5X25vdGVzIiBURVhULAogICAgUFJJTUFSWSBLRVkoImkAAAAIBg0AAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0AAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0AAAAFAQwADwgN1Qx5CzgBDAEMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANwXIyMBgnl0YWJsZWdyb3Vwc18yMDI1Z3JvdXBzXzIwMjUDQ1JFQVRFIFRBQkxFICJncm91cHNfMjAyNSIgKAogICAgaWQgSU5URUdFUiBQUklNQVJZIEtFWSwKICAgIG5hbWUgVEVYVCwKICAgIHBhc3RfcmVwZXJ0b2lyZSBURVhULAogICAgcmVwZXJ0b2lyZSBURVhULAogICAgZnV0dXJlX3JlcGVydG9pcmUgVEVYVCwKICAgIGluc3RydW1lbnQgVEVYVAosICJub3RlcyIJVEVYVCmUKQYHFysrAagJdGFibGVhdHRlbmRhbmNlXzIwMjVhdHRlbmRhbmNlXzIwMjUHQ1JFQVRFIFRBQkxFICJhdHRlbmRhbmNlXzIwMjUiICgKICAgICJpZCIgSU5URUdFUiwKICAgICJsZXNzb25faWQiIElOVEVHRVIsCiAgICAidDFfd2sxX25vdGVzIiBURVhULAogICAgInQxX3drMl9ub3RlcyIgVEVYVCwKICAgICJ0MV93azNfbm90ZXMiIFRFWFQsCiAgICAidDFfd2s0X25vdGVzIiBURVhULAogICAgInQxX3drNV9ub3RlcyIgVEVYVCwKICAgICJ0MV93azZfbm90ZXMiIFRFWFQsCiAgICAidDFfd2s3X25vdGVzIiBURVhULAogICAgInQxX3drOF9ub3RlcyIgVEVYVCwKICAgICJ0MV93azlfbm90ZXMiIFRFWFQsCiAgICAidDFfd2sxMF9ub3RlcyIgVEVYVCwKICAgICJ0MV93azExX25vdGVzIiBURVhULAogICAgInQxX3drMV9hdHRlbmRhbmNlIiBURVhULAogICAgInQxX3drMl9hdHRlbmRhbmNlIiBURVhULAogICAgInQxX3drM19hdHRlbmRhbmNlIiBURVhULAogICAgInQxX3drNF9hdHRlbmRhbmNlIiBURVhULAogICAgInQxX3drNV9hdHRlbmRhbmNlIiBURVhULAogICAgInQxX3drNl9hdHRlbmRhbmNlIiBURVhULAogICAgInQxX3drN19hdHRlbmRhbmNlIiBURVhULAogICAgInQxX3drOF9hdHRlbmRhbmNlIiBURVhULAogICAgInQxX3drOV9hdHRlbmRhbmNlIiBURVhULAogICAgInQxX3drMTBfYXR0ZW5kYW5jZSIgVEVYVCwKICAgICJ0MV93azExX2F0dGVuZGFuY2UiIFRFWFQsCiAgICAidDJfd2sxX25vdGVzIiBURVhULAogICAgInQyX3drMl9ub3RlcyIgVEVYVCwKICAgICJ0Ml93azNfbm90ZXMiIFRFWFQsCiAgICAidDJfd2s0X25vdGVzIiBURVhULAogICAgInQyX3drNV9ub3RlcyIgVEVYVCwKICAgICJ0Ml93azZfbm90ZXMiIFRFWFQsCiAgICAidDJfd2s3X25vdGVzIiBURVhULAogICAgInQyX3drOF9ub3RlcyIgVEVYVCwKICAgICJ0Ml93azlfbm90ZXMiIFRFWFQsCiAgICAidDJfd2sxMF9ub3RlcyIgVEVYVCwKICAgICJ0Ml93azExX25vdGVzIiBURVhULAogICAgInQyX3drMV9hdHRlbmRhbmNlIiBURVhULAogICAgInQyX3drMl9hdHRlbmRhbmNlIiBURVhULAogICAgInQyX3drM19hdHRlbmRhbmNlIiBURVhULAogICAgInQyX3drNF9hdHRlbmRhbmNlIiBURVhULAogICAgInQyX3drNV9hdHRlbmRhbmNlIiBURVhULAogICAgInQyX3drNl9hdHRlbmRhbmNlIiBURVhULAogICAgInQyX3drN19hdHRlbmRhbmNlIiBURVhULAogICAgInQyX3drOF9hdHRlbmRhbmNlIiBURVhULAogICAgInQyX3drOV9hdHRlbmRhbmNlIiBURVhULAogICAgInQyX3drMTBfYXR0ZW5kYW5jZSIgVEVYVCwKICAgICJ0Ml93azExX2F0dGVuZGFuY2UiIFRFWFQsCiAgICAidDNfd2sxX25vdGVzIiBURVhULAogICAgInQzX3drMl9ub3RlcyIgVEVYVCwKICAgICJ0M193azNfbm90ZXMiIFRFWFQsCiAgICAidDNfd2s0X25vdGVzIiBURVhULAogICAgInQzX3drNV9ub3RlcyIgVEVYVCwKICAgICJ0M193azZfbm90ZXMiIFRFWFQsCiAgICAidDNfd2s3X25vdGVzIiBURVhULAogICAgInQzX3drOF9ub3RlcyIgVEVYVCwKICAgICJ0M193azlfbm90ZXMiIFRFWFQsCiAgICAidDNfd2sxMF9ub3RlcyIgVEVYVCwKICAgICJ0M193azExX25vdGVzIiBURVhULAogICAgInQzX3drMV9hdHRlbmRhbmNlIiBURVhULAogICAgInQzX3drMl9hdHRlbmRhbmNlIiBURVhULAogICAgInQzX3drM19hdHRlbmRhbmNlIiBURVhULAogICAgInQzX3drNF9hdHRlbmRhbmNlIiBURVhULAogICAgInQzX3drNV9hdHRlbmRhbmNlIiBURVhULAogICAgInQzX3drNl9hdHRlbmRhbmNlIiBURVhULAogICAgInQzX3drN19hdHRlbmRhbmNlIiBURVhULAogICAgInQzX3drOF9hdHRlbmRhbmNlIiBURVhULAogICAgInQzX3drOV9hdHRlbmRhbmNlIiBURVhULAogICAgInQzX3drMTBfYXR0ZW5kYW5jZSIgVEVYVCwKICAgICJ0M193azExX2F0dGVuZGFuY2UiIFRFWFQsCiAgICAidDRfd2sxX25vdGVzIiBURVhULAogICAgInQ0X3drMl9ub3RlcyIgVEVYVCwKICAgICJ0NF93azNfbm90ZXMiIFRFWFQsCiAgICAidDRfd2s0X25vdGVzIiBURVhULAogICAgInQ0X3drNV9ub3RlcyIgVEVYVCwKICAgICJ0NF93azZfbm90ZXMiIFRFWFQsCiAgICAidDRfd2s3X25vdGVzIiBURVhULAogICAgInQ0X3drOF9ub3RlcyIgVEVYVCwKICAgICJ0NF93azlfbm90ZXMiIFRFWFQsCiAgICAidDRfd2sxMF9ub3RlcyIgVEVYVCwKICAgICJ0NF93azFfYXR0ZW5kYW5jZSIgVEVYVCwKICAgICJ0NF93azJfYXR0ZW5kYW5jZSIgVEVYVCwKICAgICJ0NF93azNfYXR0ZW5kYW5jZSIgVEVYVCwKICAgICJ0NF93azRfYXR0ZW5kYW5jZSIgVEVYVCwKICAgICJ0NF93azVfYXR0ZW5kYW5jZSIgVEVYVCwKICAgICJ0NF93azZfYXR0ZW5kYW5jZSIgVEVYVCwKICAgICJ0NF93azdfYXR0ZW5kYW5jZSIgVEVYVCwKICAgICJ0NF93azhfYXR0ZW5kYW5jZSIgVEVYVCwKICAgICJ0NF93azlfYXR0ZW5kYW5jZSIgVEVYVCwKICAgICJ0NF93azEwX2F0dGVuZGFuY2UiIFRFWFQsCiAgICBQUklNQVJZIEtFWSgiaWQiKSwKICAgIEZPUkVJR04gS0VZKCJsZXNzb25faWQiKSBSRUZFUkVOQ0VTICJsZXNzb25zXzIwMjUiKCJpZCIpIE9OIERFTEVURSBDQVNDQURFCimCPgUHFyUlAYQ/dGFibGVsZXNzb25zXzIwMjVsZXNzb25zXzIwMjUGQ1JFQVRFIFRBQkxFICJsZXNzb25zXzIwMjUiICgKICAgIGlkIElOVEVHRVIgUFJJTUFSWSBLRVksCiAgICBkYXkgVEVYVCwKICAgIHRpbWUgVEVYVCwKICAgIHN0dWRlbnRfaWQgSU5URUdFUiwKICAgIGdyb3VwX2lkIElOVEVHRVIsCiAgICBGT1JFSUdOIEtFWShzdHVkZW50X2lkKSBSRUZFUkVOQ0VTIHN0dWRlbnRzXzIwMjUoaWQpIE9OIERFTEVURSBDQVNDQURFLAogICAgRk9SRUlHTiBLRVkoZ3JvdXBfaWQpIFJFRkVSRU5DRVMgZ3JvdXBzXzIwMjUoaWQpIE9OIERFTEVURSBDQVNDQURFCimCWQQHFycnAYRxdGFibGVzdHVkZW50c18yMDI1c3R1ZGVudHNfMjAyNQVDUkVBVEUgVEFCTEUgInN0dWRlbnRzXzIwMjUiICgKICAgIGlkIElOVEVHRVIgUFJJTUFSWSBLRVksCiAgICBzY2hvb2xfaWQgSU5URUdFUiwKICAgIGZpcnN0X25hbWUgVEVYVCwKICAgIGxhc3RfbmFtZSBURVhULAogICAgZm9ybV9jbGFzcyBURVhULAogICAgbm90ZXMgVEVYVCwKICAgIG1vYmlsZSBURVhULAogICAgZW1haWwgVEVYVCwKICAgIHllYXIgSU5URUdFUiwKICAgIGluc3RydW1lbnQgVEVYVCwKICAgIEZPUkVJR04gS0VZKHNjaG9vbF9pZCkgUkVGRVJFTkNFUyBzY2hvb2xzXzIwMjUoaWQpIE9OIERFTEVURSBDQVNDQURFCimCMAMHFx8fAYQvdGFibGVob2RzXzIwMjVob2RzXzIwMjUEQ1JFQVRFIFRBQkxFICJob2RzXzIwMjUiICgKICAgICJpZCIgSU5URUdFUiwKICAgICJzY2hvb2xfaWQiIElOVEVHRVIsCiAgICAiZmlyc3RfbmFtZSIgVEVYVCwKICAgICJsYXN0X25hbWUiIFRFWFQsCiAgICAibW9iaWxlIiBURVhULAogICAgInBob25lIiBURVhULAogICAgImVtYWlsIiBURVhULAogICAgUFJJTUFSWSBLRVkoImlkIiksCiAgICBGT1JFSUdOIEtFWSgic2Nob29sX2lkIikgUkVGRVJFTkNFUyAic2Nob29sc18yMDI1IigiaWQiKSBPTiBERUxFVEUgQ0FTQ0FERQopgXUBBxclJQGDLXRhYmxlc2Nob29sc18yMDI1c2Nob29sc18yMDI1AkNSRUFURSBUQUJMRSAic2Nob29sc18yMDI1IiAoCiAgICAiaWQiIElOVEVHRVIsCiAgICAibmFtZSIgVEVYVCwKICAgICJyb29tIiBURVhULAogICAgInBob25lIiBURVhULAogICAgImhvbWVwYWdlIiBURVhULAogICAgIm5vdGVzIiBURVhULAogICAgIndpZmkiIFRFWFQsCiAgICAicGhvdG9fY29weV9ub3RlcyIgVEVYVCwKICAgIFBSSU1BUlkgS0VZKCJpZCIpCikNAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAQJvgAOwQxvCp0JvgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPEXLwAAAOsXLy8Bgn90YYFcCgcXIyMBgn90YWJsZWdyb3Vwc18yMDI1Z3JvdXBzXzIwMjUNQ1JFQVRFIFRBQkxFICJncm91cHNfMjAyNSIgKAoJImlkIglJTlRFR0VSLAoJIm5hbWUiCVRFWFQsCgkicGFzdF9yZXBlcnRvaXJlIglURVhULAoJInJlcGVydG9pcmUiCVRFWFQsCgkiZnV0dXJlX3JlcGVydG9pcmUiCVRFWFQsCgkiaW5zdHJ1bWVudCIJVEVYVCwKCSJub3RlcyIJVEVYVCwKCVBSSU1BUlkgS0VZKCJpZCIpCimDTwkHFysrAYZVdGFibGV5ZWFyX3BsYW5zXzIwMjV5ZWFyX3BsYW5zXzIwMjUMQ1JFQVRFIFRBQkxFICJ5ZWFyX3BsYW5zXzIwMjUiICgKICAgICJpZCIgSU5URUdFUiwKICAgICJzdHVkZW50X2lkIiBJTlRFR0VSLAogICAgImdyb3VwX2lkIiBJTlRFR0VSLAogICAgInBsYW4iIFRFWFQsCiAgICAiZ29hbHMiIFRFWFQsCiAgICAidGVjaG5pY2FsX21hdGVyaWFscyIgVEVYVCwKICAgICJtdXNpY2lhbnNoaXBfbWF0ZXJpYWxzIiBURVhULAogICAgInBlcmZvcm1hbmNlX21hdGVyaWFscyIgVEVYVCwKICAgIFBSSU1BUlkgS0VZKCJpZCIpLAogICAgRk9SRUlHTiBLRVkoImdyb3VwX2lkIikgUkVGRVJFTkNFUyAiZ3JvdXBzXzIwMjUiKCJpZCIpIE9OIERFTEVURSBDQVNDQURFLAogICAgRk9SRUlHTiBLRVkoInN0dWRlbnRfaWQiKSBSRUZFUkVOQ0VTICJzdHVkZW50c18yMDI1IigiaWQiKSBPTiBERUxFVEUgQ0FTQ0FERQophE8IBxcrKwGIVXRhYmxldGVybV9wbGFuc18yMDI1dGVybV9wbGFuc18yMDI1C0NSRUFURSBUQUJMRSAidGVybV9wbGFuc18yMDI1IiAoCiAgICAiaWQiIElOVEVHRVIsCiAgICAiZ3JvdXBfaWQiIElOVEVHRVIsCiAgICAic3R1ZGVudF9pZCIgSU5URUdFUiwKICAgICJ0MV9wcm9ncmFtcyIgVEVYVCwKICAgICJ0Ml9wcm9ncmFtcyIgVEVYVCwKICAgICJ0M19wcm9ncmFtcyIgVEVYVCwKICAgICJ0NF9wcm9ncmFtcyIgVEVYVCwKICAgICJ0MV9nb2FscyIgVEVYVCwKICAgICJ0Ml9nb2FscyIgVEVYVCwKICAgICJ0M19nb2FscyIgVEVYVCwKICAgICJ0NF9nb2FscyIgVEVYVCwKICAgICJ0MV9wbGFucyIgVEVYVCwKICAgICJ0Ml9wbGFucyIgVEVYVCwKICAgICJ0M19wbGFucyIgVEVYVCwKICAgICJ0NF9wbGFucyIgVEVYVCwKICAgIFBSSU1BUlkgS0VZKCJpZCIpLAogICAgRk9SRUlHTiBLRVkoImdyb3VwX2lkIikgUkVGRVJFTkNFUyAiZ3JvdXBzXzIwMjUiKCJpZCIpIE9OIERFTEVURSBDQVNDQURFLAogICAgRk9SRUlHTiBLRVkoInN0dWRlbnRfaWQiKSBSRUZFUkVOQ0VTICJzdHVkZW50c18yMDI1IigiaWQiKSBPTiBERUxFVEUgQ0FTQ0FERQopgjwHBxc/PwGEB3RhYmxlam9pbl9ncm91cHNfc3R1ZGVudHNfMjAyNWpvaW5fZ3JvdXBzX3N0dWRlbnRzXzIwMjUJQ1JFQVRFIFRBQkxFICJqb2luX2dyb3Vwc19zdHVkZW50c18yMDI1IiAoCiAgICAic3R1ZGVudF9pZCIgSU5URUdFUiwKICAgICJncm91cF9pZCIgSU5URUdFUiwKICAgIEZPUkVJR04gS0VZKCJncm91cF9pZCIpIFJFRkVSRU5DRVMgImdyb3Vwc18yMDI1IigiaWQiKSBPTiBERUxFVEUgQ0FTQ0FERSwKICAgIEZPUkVJR04gS0VZKCJzdHVkZW50X2lkIikgUkVGRVJFTkNFUyAic3R1ZGVudHNfMjAyNSIoImlkIikgT04gREVMRVRFIENBU0NBREUKKQ0AAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==";
    localStorage.setItem("dbBase64String", defaultDbSting);
    // initialise default db
    restoredUint8Array = base64ToUint8Array(defaultDbSting);
    try {
      // Load the default SQLite database from the Uint8Array
      db = new SQL.Database(restoredUint8Array);
      // Execute a simple SQL query to list all tables in the database
      const res = db.exec("SELECT name FROM sqlite_master WHERE type='table';");
      // Display the result (list of tables) in console
      console.log("Initialised default db: " + JSON.stringify(res, null, 2));
    } catch (e) {
      // If an error occurs (e.g., invalid Uint8Array), show the error message
      console.log(
        "Failed to load default database from restored default Uint8Array: " + e
      );
    }
  } else {
    // if saved, initiate sql.js db using saved db string
    if (dbBase64String) {
      console.log("db string found in local storage");
      // convert saved database string to Uint8Array (format used for initialising SQL.JS db)
      let restoredUint8Array;
      try {
        restoredUint8Array = base64ToUint8Array(dbBase64String);
      } catch (e) {
        console.log(
          "Failed to convert saved database string from localstorage to Uint8Array: " +
            e
        );
        console.log("db string: " + dbBase64String);
      }
      try {
        // Load the SQLite database from the Uint8Array
        db = new SQL.Database(restoredUint8Array);
        // Execute a simple SQL query to list all tables in the database
        const res = db.exec(
          "SELECT name FROM sqlite_master WHERE type='table';"
        );
        // Display the result (list of tables) in console
        console.log("Initialised saved db: " + JSON.stringify(res, null, 2));
      } catch (e) {
        // If an error occurs (e.g., invalid Uint8Array), show the error message
        console.log("Failed to load database from restored Uint8Array: " + e);
      }
    }
  }
  // Enable foreign key support
  db.run("PRAGMA foreign_keys = ON;");

  // download DB to file
  $("#download-backup").click(function () {
    // Export the database to a Uint8Array
    const binaryArray = db.export();

    console.log(JSON.stringify(binaryArray));

    // Create a Blob from the binary array
    const blob = new Blob([binaryArray], { type: "application/octet-stream" });

    // Create a link and trigger a download
    const url = URL.createObjectURL(blob);
    const a = document.createElement("a");
    a.href = url;
    a.download = "mydatabase.sqlite";
    document.body.appendChild(a);
    a.click();

    // Clean up
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
  });

  // ---  NECESSARY ON EVERY PAGE    PAGE SPECIFIC ---

  // REMEMBER:
  // year,
  // input box on top,
  // sanitise inputs,
  // use try/catch for queries,
  // include db IDs for render and save,
  // add delete btn,
  // include room for sorting/search/constraints in SQL query
  // one add at a time
  // one edit at a time
  // link to details

  let editing = false; // true if student being edited/added

  // order = <column> <ASC or DESC>"
  // search = <column> = <value>
  let order;
  let search;

  // validation functions
  let isAllValid = true;

  // messages for invalid stuff
  let invalidMessages = [];

  // Validation rules and error messages function
  const checkStringValid = (label, value, min, max) => {
    if (typeof value === "string") {
      if (value.length >= min) {
        if (value.length <= max) {
          console.log(`${label} inputted is valid!`);
        } else {
          isAllValid = false;
          invalidMessages.push(
            // append messages to the array for later displaying
            `${label} is invalid: inputted value is above maximum character limit of ${max}. Value inputted: ${value}`
          );
        }
      } else {
        isAllValid = false;
        invalidMessages.push(
          `${label} is invalid: inputted value does reach the minimum character limit of ${min}. Value inputted: ${value}`
        );
      }
    } else {
      isAllValid = false;
      invalidMessages.push(
        `${label} is invalid: inputted value is not a string. Value inputted: ${value}`
      );
    }
  };

  // validate email input
  const checkEmailValid = (label, value, nullable) => {
    if (nullable && value === "") {
      console.log(`${label} is an empty string but is valid!`);
    } else {
      if (value === "" || value === null) {
        console.log(`${label} inputted is null but still valid`);
      } else if (value.length <= 255) {
        if (/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(value)) {
          console.log(`${label} inputted is valid!`);
        } else {
          isAllValid = false;
          invalidMessages.push(
            `${label} is invalid: inputted value does not follow correct format for an email address`
          );
        }
      } else {
        isAllValid = false;
        invalidMessages.push(
          `${label} is invalid: inputted value is above the maximum character limit of 25. Value inputted: ${value}`
        );
      }
    }
  };

  // dismiss invalid input message
  function dismissInvalid() {
    $("#invalid-input").css("display", "none");
    $("#append-invalid").empty();
  }
  $("#rehide-invalid-popup").click(function () {
    dismissInvalid();
  });

  // onload retrieve and render group data
  function getGroups() {
    // year
    // link to details

    const actualYear = year; // Assuming 'year' is defined elsewhere in the script

    // build query components based on variables
    const whereClause = search ? `WHERE ${search}` : "";

    //  FIX: Add secondary sort criteria to ensure consistent, readable ordering within each group.
    // T1.name is group_name. T3.last_name is student last name. T4.day/time are lesson details.
    // This order is crucial for the database to return rows grouped by name first.
    const defaultOrder =
      "ORDER BY T1.name ASC, T3.last_name ASC, T4.day ASC, T4.time ASC";
    const orderClause = order ? `ORDER BY ${order}` : defaultOrder;

    let res;
    try {
      res = db.exec(
        `
    SELECT
      T1.id AS group_id,
      T1.name AS group_name,
      T1.instrument AS group_instrument,
      T1.notes AS group_notes,
      T4.day AS lesson_day,
      T4.time AS lesson_time,
      T4.id AS lesson_id,
      T3.first_name,
      T3.last_name,
      T3.instrument AS student_instrument,
      T3.year,
      T3.form_class,
      T3.email,
      T3.id AS student_id
    FROM groups_${actualYear} AS T1
    LEFT JOIN join_groups_students_${actualYear} AS T2
      ON T1.id = T2.group_id
    LEFT JOIN students_${actualYear} AS T3
      ON T2.student_id = T3.id
    LEFT JOIN lessons_${actualYear} AS T4
      ON T1.id = T4.group_id
    ${whereClause}
    ${orderClause};
    `
      );

      console.log("Groups, Lessons and student data: " + JSON.stringify(res));
    } catch (e) {
      console.log("Failed to retrieve groups, lessons and student data: " + e);
    }

    try {
      // render groups
      const values = res[0].values;
      console.log("Group, lesson and student values: " + values);
      const table = $("#group-table");

      // Define column indices - UPDATED
      const COL_GROUP_ID = 0;
      const COL_GROUP_NAME = 1;
      const COL_GROUP_INSTRUMENT = 2;
      const COL_GROUP_NOTES = 3;
      const COL_LESSON_DAY = 4;
      const COL_LESSON_TIME = 5;
      const COL_LESSON_ID = 6;
      const COL_STUDENT_FIRST_NAME = 7;
      const COL_STUDENT_LAST_NAME = 8;
      const COL_STUDENT_INSTRUMENT = 9;
      const COL_STUDENT_YEAR = 10;
      const COL_STUDENT_FORM = 11;
      const COL_STUDENT_EMAIL = 12;
      const COL_STUDENT_ID = 13;

      // Structure data by group ID
      const groupsData = {};

      for (const row of values) {
        // Check for null/undefined/falsy values using the ternary operator
        const groupId = row[COL_GROUP_ID] ? row[COL_GROUP_ID] : "";
        const groupName = row[COL_GROUP_NAME] ? row[COL_GROUP_NAME] : "";
        const groupInstrument = row[COL_GROUP_INSTRUMENT]
          ? row[COL_GROUP_INSTRUMENT]
          : "";
        const groupNotes = row[COL_GROUP_NOTES] ? row[COL_GROUP_NOTES] : "";
        const lessonDay = row[COL_LESSON_DAY] ? row[COL_LESSON_DAY] : "";
        const lessonTime = row[COL_LESSON_TIME] ? row[COL_LESSON_TIME] : "";
        const lessonId = row[COL_LESSON_ID] ? row[COL_LESSON_ID] : "";

        const studentId = row[COL_STUDENT_ID] ? row[COL_STUDENT_ID] : "";
        const studentFirstName = row[COL_STUDENT_FIRST_NAME]
          ? row[COL_STUDENT_FIRST_NAME]
          : "";
        const studentLastName = row[COL_STUDENT_LAST_NAME]
          ? row[COL_STUDENT_LAST_NAME]
          : "";
        const studentInstrument = row[COL_STUDENT_INSTRUMENT]
          ? row[COL_STUDENT_INSTRUMENT]
          : "";
        const studentYear = row[COL_STUDENT_YEAR] ? row[COL_STUDENT_YEAR] : "";
        const studentFormClass = row[COL_STUDENT_FORM]
          ? row[COL_STUDENT_FORM]
          : "";
        const studentEmail = row[COL_STUDENT_EMAIL]
          ? row[COL_STUDENT_EMAIL]
          : "";

        // Ensure we process a valid group ID
        if (!groupId) continue;

        if (!groupsData[groupId]) {
          groupsData[groupId] = {
            id: groupId,
            name: groupName, // Store name for client-side sorting
            instrument: groupInstrument,
            lessons: [],
            notes: groupNotes,
            students: [],
          };
        }

        const group = groupsData[groupId];

        // NEW: Create lesson object
        const lesson = {
          id: lessonId,
          day: lessonDay,
          time: lessonTime,
        };

        // Check if lesson day/time/id are present before adding
        if (lesson.id && lesson.day && lesson.time) {
          // Use lessonId for reliable duplicate check
          const lessonString = `${lesson.day} ${lesson.time}`.trim();

          const isLessonAlreadyAdded = group.lessons.some(
            (l) => l.id === lesson.id
          );
          if (!isLessonAlreadyAdded) {
            // Store lesson string and ID, plus day/time for internal sort
            group.lessons.push({
              id: lesson.id,
              string: lessonString,
              day: lesson.day,
              time: lesson.time,
            });
          }
        }

        // Only add student data if student ID is present (meaning a student exists for this group row)
        if (studentId) {
          // Use studentId for reliable duplicate check
          const isStudentAlreadyAdded = group.students.some(
            (s) => s.id === studentId
          );
          if (!isStudentAlreadyAdded) {
            group.students.push({
              id: studentId,
              first_name: studentFirstName,
              last_name: studentLastName,
              instrument: studentInstrument,
              year: studentYear,
              form_class: studentFormClass,
              email: studentEmail,
            });
          }
        }
      }

      //  FIX 1: Sort the internal lesson array
      // This ensures lessons are always displayed in order (Day, then Time).
      for (const groupId in groupsData) {
        groupsData[groupId].lessons.sort((a, b) => {
          const dayCompare = a.day.localeCompare(b.day);
          if (dayCompare !== 0) return dayCompare;
          return a.time.localeCompare(b.time);
        });
      }

      //  FIX 2: Get the array of Group IDs and sort them by the Group Name
      // This explicitly sorts the order in which we iterate over and render the groups.
      const sortedGroupIds = Object.keys(groupsData).sort((a, b) => {
        const nameA = groupsData[a].name.toUpperCase();
        const nameB = groupsData[b].name.toUpperCase();

        if (nameA < nameB) {
          return -1;
        }
        if (nameA > nameB) {
          return 1;
        }
        // If names are equal, sort by ID as a tie-breaker
        return groupsData[a].id - groupsData[b].id;
      });

      // Render the grouped data using the sorted keys
      for (const groupId of sortedGroupIds) {
        const group = groupsData[groupId];
        const students = group.students;
        const numStudents = students.length;

        // UPDATED: Map lessons to <p> elements with id attribute
        const lessonsHtml = group.lessons
          .map((lesson) => `<p id="lesson${lesson.id}">${lesson.string}</p>`)
          .join("");

        const notesContent = group.notes;

        if (numStudents === 0) {
          // Case 1: Group has no students
          const notesColumn = `<td colspan="5" rowspan="1" class="bottom-border">
                    <textarea id="notes${group.id}" disabled>${notesContent}</textarea>
                  </td>`;
          const emptyRow = $(`
            <tr id="group${group.id}"  >
                <td><button class="group-btn" id="groupBtn${group.id}">${group.name}</button></td>
                <td>${group.instrument}</td>
                <td class="flex-column">${lessonsHtml}</td>
                <td><button class="group-edit-btn">edit</button></td>
                <td><button>Email</button></td>
                <td colspan="6" class="no-students">No Students in this Group</td>
            </tr>
            <tr class="bottom-border">
              ${notesColumn}
              
            </tr>
        `);
          table.append(emptyRow);
        } else if (numStudents === 1) {
          const notesColumn = `<td colspan="5" rowspan="1">
                    <textarea id="notes${group.id}" disabled>${notesContent}</textarea>
                  </td>`;
          // Student 1 (Row 1): Contains Group details
          const student1 = students[0];
          // Render names as separate p elements inside the button
          const studentNameButton = `
          <button id="student${student1.id}" class="student-name-btn">
            <p>${student1.first_name}</p>
            <p>${student1.last_name}</p>
          </button>`;

          const row1 = $(`
            <tr id="group${group.id}">
                <td><button class="group-btn" id="groupBtn${group.id}">${group.name}</button></td>
                <td>${group.instrument}</td>
                <td class="flex-column">${lessonsHtml}</td>
                <td><button class="group-edit-btn">edit</button></td>
                <td><button>Email</button></td>
                <td class="student-btn-container group-data light-bottom-border">${studentNameButton}</td>
                <td class="group-data light-bottom-border">${student1.instrument}</td>
                <td class="group-data light-bottom-border">${student1.year}</td>
                <td class="group-data light-bottom-border">${student1.form_class}</td>
                <td class="group-data light-bottom-border">${student1.email}</td>
                <td class="light-bottom-border rmBtnCont${group.id}"></td>
            </tr>
            <tr class="bottom-border">
${notesColumn}
              
            </tr>
        `);
          table.append(row1);
        } else {
          // Case 2: Group has students

          // Student 1 (Row 1): Contains Group details
          const student1 = students[0];
          // Render names as separate p elements inside the button
          const studentNameButton = `
          <button id="student${student1.id}" class="student-name-btn">
            <p>${student1.first_name}</p>
            <p>${student1.last_name}</p>
          </button>`;

          const row1 = $(`
            <tr id="group${group.id}">
                <td><button class="group-btn" id="groupBtn${group.id}">${group.name}</button></td>
                <td>${group.instrument}</td>
                <td class="flex-column">${lessonsHtml}</td>
                <td><button class="group-edit-btn">edit</button></td>
                <td><button>Email</button></td>
                <td class="student-btn-container group-data light-bottom-border">${studentNameButton}</td>
                <td class="group-data light-bottom-border">${student1.instrument}</td>
                <td class="group-data light-bottom-border">${student1.year}</td>
                <td class="group-data light-bottom-border">${student1.form_class}</td>
                <td class="group-data light-bottom-border">${student1.email}</td>
                <td class="light-bottom-border rmBtnCont${group.id}"></td>
            </tr>
        `);
          table.append(row1);

          // Subsequent rows for remaining students
          for (let i = 1; i < numStudents; i++) {
            const student = students[i];
            // Render names as separate p elements inside the button
            const studentNameButton = `
              <button   id="student${student.id}" class="student-name-btn">
                <p style="margin-right: 4px">${student.first_name}</p>
                <p>${student.last_name}</p>
              </button>`;

            // Notes column only appears on the second student row (index 1)
            const notesColumn =
              i === 1
                ? `<td colspan="5" rowspan="${numStudents - 1}">
                        <textarea id="notes${
                          group.id
                        }" disabled>${notesContent}</textarea>
                      </td>`
                : "";

            // Border classes
            const bottomBorderClass =
              i < numStudents - 1 ? "light-bottom-border" : "";
            const rowClass = i === numStudents - 1 ? "bottom-border" : "";

            const row = $(`
                <tr class="${rowClass}">
                    ${notesColumn}
                    <td class="student-btn-container group-data ${bottomBorderClass}">${studentNameButton}</td>
                    <td class="group-data ${bottomBorderClass}">${student.instrument}</td>
                    <td class="group-data ${bottomBorderClass}">${student.year}</td>
                    <td class="group-data ${bottomBorderClass}">${student.form_class}</td>
                    <td class="group-data ${bottomBorderClass}">${student.email}</td>
                    <td class="${bottomBorderClass} rmBtnCont${group.id}"></td>
                </tr>
            `);
            table.append(row);
          }
        }
      }
    } catch (e) {
      console.log("Failed to render groups", e);
    }

    // Functions relating to the rendered elements

    // function to opened detailed student page and set selected student id
    $(".student-name-btn").click(function () {
      // stop new page from being opened whilst editing
      if (editing) {
        return false;
      }
      const id = $(this).attr("id").split("student")[1];
      localStorage.setItem("selected-student-id", JSON.stringify(id));
      location.href = "detailed-student.html";
    });

    //function to open detailed group page and set selected group id
    $(".group-btn").click(function () {
      // stop new page from being opened whilst editing
      if (editing) {
        return false;
      }
      const id = $(this).attr("id").split("groupBtn")[1];
      localStorage.setItem("selected-group-id", JSON.stringify(id));
      location.href = "detailed-group.html";
    });

    // add group function
    $("#add-group").click(function () {
      // REMEMBER:
      // year,
      // input box on top,
      // sanitise inputs,
      // use try/catch for queries,
      // one add at a time

      if (editing) {
        return false;
      }

      editing = true;

      // insert input row after header
      const headerRow = $("#header-row");
      headerRow.after(`
      <tr id="first-add-row">
                <td><input id="group-name-input" placeholder="group name" style="width: 80%"></td>
                <td><input id="instrument-input" placeholder="instrument" style="width: 80%"></td>
                <td class="flex-column lessons-td"><div class="flex-row lesson-row"> 
                  <div class="day-selector-container">
                      <button class="daySelectButton dropdown-toggle">Day</button>
                      <ul class="dayDropdown dropdown-menu">
                          <li><a href="#" data-day="Mon">Mon</a></li>
                          <li><a href="#" data-day="Tue">Tue</a></li>
                          <li><a href="#" data-day="Wed">Wed</a></li>
                          <li><a href="#" data-day="Thu">Thu</a></li>
                          <li><a href="#" data-day="Fri">Fri</a></li>
                      </ul>
                  </div>
                  <input class="lesson-time-input" type="time">
                  <button id="add-lesson-btn" data-initial="true">+</button>
              </div></td>
                <td><button id="save-new-btn">Save</button>
      <button id="cancel-add-btn" onclick="location.reload()">Cancel</button></td>
                <td><button>Email</button></td>
                
          <td colspan="6"><button id="add-student">Add student to group +</button></td>
            </tr>
      <tr class="second-row bottom-border">
        <td colspan="5" class="bottom-border"><textarea id="notes" placeholder="notes"></textarea></td>
        
      </tr>
        `);

      // Declare useful variables
      const row = $("#first-add-row");
      let rowSpan = 1;
      const $searchTd = $("#add-student").parent();
      const notesTextarea = $("#notes");

      // Student Adding Funcionality
      // fetch student data for selection dropdowns
      let studentData = [];
      // fetch and map all student data once when editing starts
      let res;
      try {
        res = db.exec(`
          SELECT
              id,
              first_name,
              last_name,
              form_class,
              email,
              year,
              instrument
          FROM students_${actualYear}
      `);
        if (res && res.length > 0 && res[0].values) {
          const values = res[0].values;
          const columns = res[0].columns;
          studentData = values.map((row) => {
            const student = {};
            columns.forEach((col, index) => {
              student[col] = row[index];
            });
            student.displayName = `${student.first_name} ${student.last_name}`;
            return student;
          });
        }
      } catch (e) {
        console.error("Failed to search students:", e);
      }
      // function to show search bar for new student
      $("#add-student").click(function () {
        const td = $(this).parent();
        $(this).hide();
        td.append(`
        <div class="student-search-container">
          <div class="student-search-input-group">
            <input type="text" id="studentSearchInput" placeholder="student name...">
            <button id="studentSearchButton">Search</button>
          </div>
          <ul id="studentSearchResults" class="student-search-dropdown">
          </ul>
        </div>
        `);
      });
      // filters retieved data and populates the dropdown
      function displayResults(query, $resultsList) {
        console.log("display results function activated");

        const rows = row.nextAll().slice(0, rowSpan);
        const groupRows = rows.add(row);
        const studentNameBtns = groupRows.find(".student-name-btn");

        let existingIdsSet;
        if (studentNameBtns.length > 0) {
          // get the IDs of the existing students in the group
          const existingStudentsIds = studentNameBtns
            .map(function () {
              // get the ID attribute (e.g., "student123"), split it by "student", and parse the number
              return parseInt($(this).attr("id").split("student")[1]);
            })
            .get();
          // convert the existingStudentsIds array into a Set for faster lookup
          existingIdsSet = new Set(existingStudentsIds);
        }
        // filter the student data
        const filtered = studentData.filter((student) => {
          // filter by the combined display name (case-insensitive)
          const nameMatches = student.displayName
            .toLowerCase()
            .includes(query.toLowerCase());
          let isNewStudent = true;
          if (studentNameBtns.length > 0) {
            // ensure the student's ID is NOT in the existingIdsSet
            isNewStudent = !existingIdsSet.has(student.id);
          }

          // return true only if BOTH conditions are met
          return nameMatches && isNewStudent;
        });

        // clear existing results
        $resultsList.empty();

        // check if there are results
        if (filtered.length === 0) {
          $resultsList.append('<li class="no-result">No results found</li>');
        } else {
          // create and append a new list item for each result
          filtered.forEach((student) => {
            const $listItem = $("<li></li>")
              // display the name to the user
              .text(student.displayName)
              // store the student's ID (the true unique value) in the data-value attribute
              .attr("data-value", student.id)
              // store the full name if needed
              .attr("data-name", student.displayName);
            $resultsList.append($listItem);
          });
        }
        // show the dropdown
        $resultsList.show();
      }
      // trigger the search when the button is clicked
      $searchTd.off("click", "#studentSearchButton"); // remove old listeners just in case
      $searchTd.on("click", "#studentSearchButton", function () {
        console.log("student search btn clicked (Delegated)");
        const $input = $(this).siblings("#studentSearchInput");
        const $resultsList = $(this)
          .closest(".student-search-container")
          .find("#studentSearchResults");
        const query = $input.val();
        displayResults(query, $resultsList);
      });
      // handle result selection (when a list item is clicked)
      $searchTd.off("click", "#studentSearchResults li:not(.no-result)"); // Remove old listeners just in case
      $searchTd.on(
        "click",
        "#studentSearchResults li:not(.no-result)",
        function () {
          // Get the selected student ID
          const selectedId = $(this).data("value");
          // Get the selected student Name to display in the input
          const selectedName = $(this).data("name");
          // Find the input, button, and results list relative to the clicked item
          const $searchContainer = $(this).closest(".student-search-container");
          const $input = $searchContainer.find("#studentSearchInput");
          const $button = $searchContainer.find("#studentSearchButton");
          const $resultsList = $(this).parent();
          // Set the input field to the selected value
          $input.val(selectedName);
          // Hide the dropdown
          $resultsList.hide();
          console.log("Selected Student ID:", selectedId);
          // Find the selected student object from the scoped studentData array
          const selectedStudentData = studentData.find((student) => {
            // ID comparison is safe because selectedId is from data-value (which is the ID)
            return student.id === selectedId;
          });
          // Hide search bar, show 'Add student' button
          $button.hide();
          $input.hide();
          $("#add-student").show();
          $searchContainer.remove(); // Remove the search HTML entirely
          const $secondRow = $(".second-row");
          if ($secondRow.children().length === 1) {
            const newStudent = $(`
              <td class="student-btn-container group-data ">
              <button id="student${selectedStudentData.id}" class="student-name-btn">
                <p style="margin-right: 4px">${selectedStudentData.first_name}</p>
                <p>${selectedStudentData.last_name}</p>
              </button>
            </td>
            <td class="group-data ">${selectedStudentData.instrument}</td>
            <td class="group-data ">${selectedStudentData.year}</td>
            <td class="group-data ">${selectedStudentData.form_class}</td>
            <td class="group-data ">${selectedStudentData.email}</td>
            <td class="rmBtnCont ">
              <button class="rmStudentBtn">-</button>
            </td>
              `);
            $secondRow.append(newStudent);
          } else {
            // Append new student row
            const secondToLastRow = row.nextAll().eq(rowSpan);
            const newRow = $(
              `
          <tr class="bottom-border">        
            <td class="student-btn-container group-data light-bottom-border">
              <button id="student${selectedStudentData.id}" class="student-name-btn">
                <p style="margin-right: 4px">${selectedStudentData.first_name}</p>
                <p>${selectedStudentData.last_name}</p>
              </button>
            </td>
            <td class="group-data light-bottom-border">${selectedStudentData.instrument}</td>
            <td class="group-data light-bottom-border">${selectedStudentData.year}</td>
            <td class="group-data light-bottom-border">${selectedStudentData.form_class}</td>
            <td class="group-data light-bottom-border">${selectedStudentData.email}</td>
            <td class="rmBtnCont light-bottom-border">
              <button class="rmStudentBtn">-</button>
            </td>
          </tr>
          `
            );
            secondToLastRow.before(newRow); // Insert the new student row just before the 'add student' row
            // Increment rowSpan and update the notes textarea rowspan
            rowSpan += 1;
            notesTextarea.parent().attr("rowspan", rowSpan);

            const lastRow = row.nextAll().eq(rowSpan - 1);
            console.log(lastRow);
            lastRow.addClass("bottom-border");
            lastRow.find("td").removeClass("light-bottom-border");
            const otherRows = row.nextAll().slice(0, rowSpan - 1);
            otherRows.removeClass("bottom-border");
            otherRows.find("td").addClass("light-bottom-border");
            notesTextarea.parent().addClass("bottom-border");
            notesTextarea.parent().removeClass("light-bottom-border");
          }

          // Re-attach or ensure rmStudentBtn handler is delegated
          // We'll rely on the existing delegated handler (see below) or ensure it handles new elements.
          // For new elements, the delegated handler (if defined on a static parent) will automatically work.
          // Since the rmStudentBtn handler is defined LATER in this function, we need to ensure it's re-attached
          // OR, we can delegate it here to a static parent. Let's delegate it to the whole table.
          // Delegation for the remove button (applied to the entire table for reliability)
          $("#group-table").off("click", ".rmStudentBtn"); // Remove previous handlers
          $("#group-table").on("click", ".rmStudentBtn", function () {
            const rmBtn = $(this);
            // Traverse up to the new row (<tr>)
            const studentRow = rmBtn.closest("tr");
            // Find all cells that are part of the student data within that row (5 cells before the button container)
            const closestFiveSiblings = studentRow.children().slice(-6);
            if (rmBtn.text() === "-") {
              closestFiveSiblings.addClass("removed-from-group");
              rmBtn.text("+");
            } else {
              closestFiveSiblings.removeClass("removed-from-group");
              rmBtn.text("-");
            }
          });
        }
      );
      // hide dropdown when clicking outside the container
      $(document).on("click", function (e) {
        if (!$(e.target).closest(".student-search-container").length) {
          $("#studentSearchResults").hide();
        }
      });

      // Lesson selection functionality
      const lessonTd = $(".lessons-td");
      // --- Delegate Lesson Handlers to the Lesson TD (lessonTd is static within edit mode) ---
      lessonTd.off("click"); // Clear any previous handlers

      // --- 1. Function to add new lesson input row ---
      lessonTd.on("click", "#add-lesson-btn", function () {
        // Remove the '+' button from the current row and replace with '-'
        $(this)
          .attr("id", "")
          .removeClass("add-lesson-btn")
          .addClass("remove-lesson-btn")
          .text("-");

        // Add the new blank row with the '+' button
        const newRow = `
          <div class="flex-row lesson-row">
              <div class="day-selector-container">
                  <button class="daySelectButton dropdown-toggle">Day</button>
                  <ul class="dayDropdown dropdown-menu">
                      <li><a href="#" data-day="Mon">Mon</a></li>
                      <li><a href="#" data-day="Tue">Tue</a></li>
                      <li><a href="#" data-day="Wed">Wed</a></li>
                      <li><a href="#" data-day="Thu">Thu</a></li>
                      <li><a href="#" data-day="Fri">Fri</a></li>
                  </ul>
              </div>
              <input class="lesson-time-input" type="time" value=""/>
              <button id="add-lesson-btn">+</button>
          </div>
      `;
        lessonTd.append(newRow);
      });

      // --- 2. Function to remove a lesson input row ---
      lessonTd.on("click", ".remove-lesson-btn", function () {
        const rowToRemove = $(this).closest(".lesson-row");
        const isLastRow = rowToRemove.is(":last-child");

        rowToRemove.hide();

        // If the row removed was the last one, ensure the new last row has the '+' button
        if (isLastRow && lessonTd.find(".lesson-row").length > 0) {
          const newLastRow = lessonTd.find(".lesson-row").last();
          const actionButton = newLastRow.find("button").last();

          if (actionButton.text() === "-") {
            actionButton
              .text("+")
              .attr("id", "add-lesson-btn")
              .removeClass("remove-lesson-btn");
          }
        }
      });

      // --- 2. Remove Lesson Handler (using delegation on lessonTd) ---
      lessonTd.on("click", ".remove-lesson-btn", function () {
        $(this).closest(".lesson-row").hide();
      });

      // --- 3. Dropdown Functionality (using delegation on lessonTd) ---

      // a) Toggle the dropdown when the button is clicked
      lessonTd.on("click", ".daySelectButton", function (e) {
        e.stopPropagation();
        $(this).siblings(".dayDropdown").toggleClass("show");
      });

      // b) Handle selection from the dropdown
      lessonTd.on("click", ".dayDropdown li a", function (e) {
        e.preventDefault();
        const selectedDayText = $(this).text();
        const $container = $(this).closest(".day-selector-container");
        $container.find(".daySelectButton").text(selectedDayText);
        $(this).closest(".dayDropdown").removeClass("show");
      });

      // --- 4. Close the dropdown when clicking anywhere else on the document (Global) ---
      $(document).on("click", function (e) {
        if (!$(e.target).closest(".day-selector-container").length) {
          $(".dayDropdown.show").removeClass("show");
        }
      });

      // Save new group data to db
      $("#save-new-btn").click(function () {
        // REMEMBER:
        // year,
        // sanitise inputs,
        // use try/catch for queries,
        // FETCH:
        // group name,
        // instrument,
        // notes,
        // lessons,
        // students
        // SANITISE data
        // VALIDATE data & display errors if invalid
        // NULLIFY data
        // SAVE data to db

        const actualYear = year;
        // reset validity messages
        isAllValid = true;
        invalidMessages = [];

        const sanitise = (str) => {
          return str.replace(/'/g, "''").replace(/`/g, "``").trim();
        };

        // fetch values from inputs for use in the sql query and sanitise them
        const groupName = $("#group-name-input").val()
          ? sanitise($("#group-name-input").val())
          : "";
        const instrument = $("#instrument-input").val()
          ? sanitise($("#instrument-input").val())
          : "";
        const notes = notesTextarea.val() ? sanitise(notesTextarea.val()) : "";

        console.log(
          "Group name:",
          groupName,
          "Instrument:",
          instrument,
          "Notes:",
          notes
        );

        // check variables' values are valid
        checkStringValid("Group name", groupName, 1, 50); // Group name must be entered
        checkStringValid("Instrument", instrument, 0, 50);
        checkStringValid("Notes", notes, 0, 1000);

        // student ids of students in the group who HAVE not been removed (have the line through them class)
        let studentIds = [];
        const rmBtnContainers = $(`.rmBtnCont`);
        // iterate through each container
        rmBtnContainers.each(function (index, rawRmBtnContainer) {
          const rmBtnContainer = $(rawRmBtnContainer); // To use jQuery methods on the current element, wrap it
          const studentBtnContainer = rmBtnContainer.prevAll().eq(4);
          if (!studentBtnContainer.hasClass("removed-from-group")) {
            const studentId = studentBtnContainer
              .children()
              .attr("id")
              .split("student")[1];
            studentIds.push(studentId);
          }
        });
        console.log("student ids:", studentIds);

        // get lesson data from rendered elements
        // array of lesson objects
        let lessons = [];
        // get lesson rows
        const lessonRows = lessonTd.children();
        // iterate through lesson rows to create object using their values
        lessonRows.each(function (index, element) {
          const lessonRow = $(element);
          const lessonId = $(lessonRow).attr("id");
          console.log("lesson row", lessonRow);
          if (lessonRow.css("display") === "none") {
            if (lessonId && lessonId !== "") {
              lesson = {
                id: lessonId.split("lesson")[1],
                remove: true, // lessons to be deleted just have an id and a remove
              };
              lessons.push(lesson);
            }
          } else {
            if (lessonId && lessonId !== "") {
              // if id is valid, then it is an existing lesson being edited
              const day = lessonRow.find(".daySelectButton").text();
              const time = lessonRow.find(".lesson-time-input").val();
              if (day === "Day" || time === "") {
                // check day and time are valid
                isAllValid = false;
                invalidMessages.push(
                  "At least one of the lessons are invalid because it does not have a valid day and time entered"
                );
              } else {
                const lesson = {
                  id: lessonId.split("lesson")[1],
                  day: $(lessonRow).find(".daySelectButton").text(),
                  time: $(lessonRow).find(".lesson-time-input").val(),
                };
                lessons.push(lesson);
              }
            } else {
              const day = lessonRow.find(".daySelectButton").text();
              const time = lessonRow.find(".lesson-time-input").val();
              console.log("day:", day, "time", time);
              if (day === "Day" && time === "") {
                console.log("day = Day & time = ''");
              } else if (day === "Day" || time === "") {
                // check day and time are valid
                isAllValid = false;
                invalidMessages.push(
                  "At least one of the lessons are invalid because it does not have a valid day and time entered"
                );
              } else {
                const lesson = {
                  day: day,
                  time: time,
                };
                lessons.push(lesson);
              }
            }
          }
        });
        console.log("lessons:", lessons);

        if (!isAllValid) {
          $("#invalid-input").css("display", "flex");
          const appendInvalid = $("#append-invalid");
          for (let i = 0; i < invalidMessages.length; i++) {
            appendInvalid.append(
              $(`
                <p>${invalidMessages[i]}</p>
              `)
            );
          }
          return false;
        }

        // Make null values 'NULL' strings for sql queries & wrap in quotes
        const nullify = (val) =>
          val === "" || val === null ? "NULL" : `'${val}'`;

        // --- 1. INSERT THE NEW GROUP ---
        const insertGroup = `
INSERT INTO groups_${actualYear} (
    name, 
    instrument, 
    notes
) 
VALUES (
    ${nullify(groupName)}, 
    ${nullify(instrument)}, 
    ${nullify(notes)}
);
`;

        try {
          // Run the INSERT statement
          db.run(insertGroup);
          console.log("Group successfully inserted.");
        } catch (e) {
          console.error("Failed to insert group: " + e);
          return false;
        }

        // --- 2. FETCH THE NEW GROUP ID ---
        let newGroupId;
        try {
          // Note: The table name should follow the template: groups_2025, lessons_2025, etc.
          newGroupId = db.exec(`SELECT last_insert_rowid();`)[0].values[0][0];
          console.log("Successfully fetched new group id: " + newGroupId);
        } catch (e) {
          console.error("Failed to fetch new group id: " + e);
          return false;
        }

        // --- 3. INSERT THE NEW LESSONS ---
        // Filter for new lessons (those without an 'id' and not marked for removal)
        const newLessons = lessons.filter((l) => !l.id && !l.remove);

        if (newLessons.length > 0) {
          // Start the INSERT query for lessons
          let insertLesson = `
    INSERT INTO lessons_${actualYear} (
        day, 
        time, 
        group_id, 
        student_id
    ) 
    VALUES 
    `;

          const lessonValues = newLessons
            .map((lesson) => {
              // student_id is NULL for group lessons
              return `(${nullify(lesson.day)}, ${nullify(
                lesson.time
              )}, ${newGroupId}, NULL)`;
            })
            .join(",\n");

          insertLesson += lessonValues + ";";

          try {
            // Run the INSERT statement for lessons
            db.run(insertLesson);
            console.log("New lessons successfully inserted.");
          } catch (e) {
            console.error("Failed to insert lessons: " + e);
            return false;
          }
        }

        // --- 4. INSERT STUDENT-GROUP JOINS ---
        // studentIds is an array of student IDs (strings/numbers)
        if (studentIds.length > 0) {
          // Start the INSERT query for join_groups_students
          let insertJoins = `
    INSERT INTO join_groups_students_${actualYear} (
        student_id, 
        group_id
    ) 
    VALUES 
    `;

          const joinValues = studentIds
            .map((studentId) => {
              return `(${studentId}, ${newGroupId})`; // studentId is already validated as an ID (INTEGER)
            })
            .join(",\n");

          insertJoins += joinValues + ";";

          try {
            // Run the INSERT statement for joins
            db.run(insertJoins);
            console.log("Student-group joins successfully inserted.");
          } catch (e) {
            console.error("Failed to insert student-group joins: " + e);
            return false;
          }
        }

        // save updated database to localStorage
        // Export the database to a Uint8Array
        const uint8Array = db.export();
        console.log("Binary array:", uint8Array);
        // convert to base64 string to upload to db
        const base64String = uint8ArrayToBase64(uint8Array);
        console.log("base64string:", base64String);
        localStorage.setItem("dbBase64String", base64String);
        console.log("db with updated data added saved to localStorage");

        // reload page to rerender table
        location.reload();
      });
    });

    // edit button function to re render row with inputs
    function editGroup(btnElement) {
      console.log("edit button pressed");
      // REMEMBER
      // year,
      // sanitise inputs,
      // use try/catch for queries,
      // include db IDs for render and save,
      // add delete btn,
      // one edit at a time

      if (editing) {
        return false;
      }

      editing = true;

      const btnContainer = btnElement.parent();
      const row = btnElement.parent().parent();
      const children = row.children();
      const rowId = row.attr("id").split("group")[1];
      console.log("rowId", rowId);
      const notesTextarea = $(`#notes${rowId}`);
      const removeBtnContainers = $(`.rmBtnCont${rowId}`);

      // --- FIX 1: Move studentData to a higher scope (inside editGroup) ---
      // This allows displayResults and delegated handlers to access it.
      let studentData = [];
      let rowSpan = parseInt(notesTextarea.parent().attr("rowspan")) || 1; // Initialize rowSpan correctly
      // get number of students
      const nextRows = row.nextAll("tr").slice(0, rowSpan);
      const groupRows = row.add(nextRows);
      console.log("Group rows:", groupRows);
      const groupStudents = groupRows.find(".student-name-btn");
      console.log("group students", groupStudents);
      let numStudents = groupStudents.length;
      console.log("number of students:", numStudents);

      // Fetch and map all student data once when editing starts
      let res;
      try {
        res = db.exec(`
          SELECT
              id,
              first_name,
              last_name,
              form_class,
              email,
              year,
              instrument
          FROM students_${actualYear}
      `);

        if (res && res.length > 0 && res[0].values) {
          const values = res[0].values;
          const columns = res[0].columns;

          studentData = values.map((row) => {
            const student = {};
            columns.forEach((col, index) => {
              student[col] = row[index];
            });
            student.displayName = `${student.first_name} ${student.last_name}`;
            return student;
          });
        }
      } catch (e) {
        console.error("Failed to search students:", e);
      }

      // allow notes textarea to be edited
      notesTextarea.prop("disabled", false);

      // --- END FIX 1 ---
      // append row with add student button
      if ($(children[5]).hasClass("no-students") || numStudents < 2) {
        if (numStudents === 0) {
          $(children[5]).remove();
        }
        const secondRow = row.nextAll("tr").eq(0);
        secondRow.removeClass("bottom-border");
        secondRow.after(
          `<tr class="bottom-border"><td colspan="6"><button id="add-student">Add student to group +</button></td></tr>`
        );
        rowSpan += 1;
        // expand notes textarea
        const $tdElement = notesTextarea.parent();
        // update the td element
        $tdElement.attr("rowspan", rowSpan);
      } else if (numStudents === 2) {
        const secondRow = row.nextAll("tr").eq(0);
        secondRow.removeClass("bottom-border");
        secondRow.children().addClass("light-bottom-border");
        notesTextarea.parent().removeClass("light-bottom-border");
        secondRow.after(
          `<tr class="bottom-border"><td colspan="6"><button id="add-student">Add student to group +</button></td></tr>`
        );
        rowSpan += 1;
        // expand notes textarea
        const $tdElement = notesTextarea.parent();
        // update the td element
        $tdElement.attr("rowspan", rowSpan);
      } else {
        let lastRow = row.nextAll().eq(rowSpan - 1); // -1 because its based on indexes;
        lastRow.removeClass("bottom-border");

        lastRow.children().addClass("light-bottom-border");
        lastRow.after(`
      <tr class="bottom-border">
      <td colspan="6"><button id="add-student">Add student to group +</button></td>
      </tr>
      `);
        // expand notes textarea
        const $tdElement = notesTextarea.parent();
        // get current rowspan
        const currentNotesRowspan = parseInt($tdElement.attr("rowspan"));
        // increase it by one
        const newRowSpanNotes = currentNotesRowspan + 1; // +1 for the added search row
        // update the td element
        $tdElement.attr("rowspan", newRowSpanNotes);
      }

      // Get the TD where the search bar will be placed for delegation
      const $searchTd = $("#add-student").parent();

      // function to show search bar for new student
      $("#add-student").click(function () {
        const td = $(this).parent();
        $(this).hide();
        td.append(`
        <div class="student-search-container">
          <div class="student-search-input-group">
            <input type="text" id="studentSearchInput" placeholder="student name...">
            <button id="studentSearchButton">Search</button>
          </div>
          <ul id="studentSearchResults" class="student-search-dropdown">
          </ul>
        </div>
        `);
      });

      /**
       * Filters the data and populates the dropdown
       * NOTE: This function now accesses studentData from the editGroup scope.
       */
      function displayResults(query, $resultsList) {
        console.log("display results function activated");

        const rows = row.nextAll().slice(0, rowSpan);
        const groupRows = rows.add(row);
        const studentNameBtns = groupRows.find(".student-name-btn");

        // 1. Get the IDs of the existing students in the group
        const existingStudentsIds = studentNameBtns
          .map(function () {
            // Get the ID attribute (e.g., "student123"), split it by "student", and parse the number
            return parseInt($(this).attr("id").split("student")[1]);
          })
          .get();

        // Convert the existingStudentsIds array into a Set for faster lookup
        const existingIdsSet = new Set(existingStudentsIds);

        // 2. Filter the student data
        const filtered = studentData.filter((student) => {
          // Check 1: Filter by the combined display name (case-insensitive)
          const nameMatches = student.displayName
            .toLowerCase()
            .includes(query.toLowerCase());

          // Check 2: Ensure the student's ID is NOT in the existingIdsSet
          const isNewStudent = !existingIdsSet.has(student.id);

          // Return true only if BOTH conditions are met
          return nameMatches && isNewStudent;
        });

        // 3. Clear existing results
        $resultsList.empty();

        // 4. Check if there are results
        if (filtered.length === 0) {
          $resultsList.append('<li class="no-result">No results found</li>');
        } else {
          // 5. Create and append a new list item for each result
          filtered.forEach((student) => {
            const $listItem = $("<li></li>")
              // Display the name to the user
              .text(student.displayName)
              // Store the student's ID (the true unique value) in the data-value attribute
              .attr("data-value", student.id)
              // Store the full name if needed
              .attr("data-name", student.displayName);
            $resultsList.append($listItem);
          });
        }

        // 6. Show the dropdown
        $resultsList.show();
      }

      // --- FIX 2: Use Event Delegation on the static parent TD for search bar actions ---

      // 1. Trigger the search when the button is clicked
      $searchTd.off("click", "#studentSearchButton"); // Remove old listeners just in case
      $searchTd.on("click", "#studentSearchButton", function () {
        console.log("student search btn clicked (Delegated)");
        const $input = $(this).siblings("#studentSearchInput");
        const $resultsList = $(this)
          .closest(".student-search-container")
          .find("#studentSearchResults");
        const query = $input.val();
        displayResults(query, $resultsList);
      });

      // 2. Handle result selection (when a list item is clicked)
      $searchTd.off("click", "#studentSearchResults li:not(.no-result)"); // Remove old listeners just in case
      $searchTd.on(
        "click",
        "#studentSearchResults li:not(.no-result)",
        function () {
          // Get the selected student ID
          const selectedId = $(this).data("value");
          // Get the selected student Name to display in the input
          const selectedName = $(this).data("name");

          // Find the input, button, and results list relative to the clicked item
          const $searchContainer = $(this).closest(".student-search-container");
          const $input = $searchContainer.find("#studentSearchInput");
          const $button = $searchContainer.find("#studentSearchButton");
          const $resultsList = $(this).parent();

          // Set the input field to the selected value
          $input.val(selectedName);

          // Hide the dropdown
          $resultsList.hide();

          console.log("Selected Student ID:", selectedId);

          // Find the selected student object from the scoped studentData array
          const selectedStudentData = studentData.find((student) => {
            // ID comparison is safe because selectedId is from data-value (which is the ID)
            return student.id === selectedId;
          });

          // Hide search bar, show 'Add student' button
          $button.hide();
          $input.hide();
          $("#add-student").show();
          $searchContainer.remove(); // Remove the search HTML entirely

          console.log("number of students (student selected):", numStudents);

          // Append new student row
          if (numStudents === 0) {
            row.append(
              `
              <td class="student-btn-container group-data light-bottom-border">
                <button id="student${selectedStudentData.id}" class="student-name-btn">
                  <p style="margin-right: 4px">${selectedStudentData.first_name}</p>
                  <p>${selectedStudentData.last_name}</p>
                </button>
              </td>
              <td class="group-data light-bottom-border">${selectedStudentData.instrument}</td>
              <td class="group-data light-bottom-border">${selectedStudentData.year}</td>
              <td class="group-data light-bottom-border">${selectedStudentData.form_class}</td>
              <td class="group-data light-bottom-border">${selectedStudentData.email}</td>
              <td class="rmBtnCont${rowId} light-bottom-border">
                <button class="rmStudentBtn">-</button>
              </td>`
            );
          } else if (numStudents === 1) {
            const secondRow = row.nextAll("tr").eq(0);
            secondRow.append(
              `
              <td class="student-btn-container group-data light-bottom-border">
                <button id="student${selectedStudentData.id}" class="student-name-btn">
                  <p style="margin-right: 4px">${selectedStudentData.first_name}</p>
                  <p>${selectedStudentData.last_name}</p>
                </button>
              </td>
              <td class="group-data light-bottom-border">${selectedStudentData.instrument}</td>
              <td class="group-data light-bottom-border">${selectedStudentData.year}</td>
              <td class="group-data light-bottom-border">${selectedStudentData.form_class}</td>
              <td class="group-data light-bottom-border">${selectedStudentData.email}</td>
              <td class="rmBtnCont${rowId} light-bottom-border">
                <button class="rmStudentBtn">-</button>
              </td>`
            );
          } else {
            const secondToLastRow = row.nextAll().eq(rowSpan - 1);
            const newRow = $(
              `
            <tr>        
              <td class="student-btn-container group-data light-bottom-border">
                <button id="student${selectedStudentData.id}" class="student-name-btn">
                  <p style="margin-right: 4px">${selectedStudentData.first_name}</p>
                  <p>${selectedStudentData.last_name}</p>
                </button>
              </td>
              <td class="group-data light-bottom-border">${selectedStudentData.instrument}</td>
              <td class="group-data light-bottom-border">${selectedStudentData.year}</td>
              <td class="group-data light-bottom-border">${selectedStudentData.form_class}</td>
              <td class="group-data light-bottom-border">${selectedStudentData.email}</td>
              <td class="rmBtnCont${rowId} light-bottom-border">
                <button class="rmStudentBtn">-</button>
              </td>
            </tr>
            `
            );
            secondToLastRow.before(newRow); // Insert the new student row just before the 'add student' row
            // Increment rowSpan and expand the notes textarea rowspan
            rowSpan += 1;
            notesTextarea.parent().attr("rowspan", rowSpan);
          }

          // Increment number of students
          numStudents += 1;

          // Re-attach or ensure rmStudentBtn handler is delegated
          // We'll rely on the existing delegated handler (see below) or ensure it handles new elements.
          // For new elements, the delegated handler (if defined on a static parent) will automatically work.
          // Since the rmStudentBtn handler is defined LATER in this function, we need to ensure it's re-attached
          // OR, we can delegate it here to a static parent. Let's delegate it to the whole table.

          // Delegation for the remove button (applied to the entire table for reliability)
          $("#group-table").off("click", ".rmStudentBtn"); // Remove previous handlers
          $("#group-table").on("click", ".rmStudentBtn", function () {
            const rmBtn = $(this);
            // Traverse up to the new row (<tr>)
            const studentRow = rmBtn.closest("tr");
            // Find all cells that are part of the student data within that row (5 cells before the button container)
            const closestFiveSiblings = studentRow.children().slice(-6);

            if (rmBtn.text() === "-") {
              closestFiveSiblings.addClass("removed-from-group");
              rmBtn.text("+");
            } else {
              closestFiveSiblings.removeClass("removed-from-group");
              rmBtn.text("-");
            }
          });
        }
      );

      // 3. OPTIONAL: Hide dropdown when clicking outside the container
      $(document).on("click", function (e) {
        if (!$(e.target).closest(".student-search-container").length) {
          $("#studentSearchResults").hide();
        }
      });
      // --- END FIX 2 ---

      // replace group name button with inputs
      const groupNameTd = $(children[0]);
      const groupName = $(`#groupBtn${rowId}`).text();
      console.log("group name:", groupName);
      groupNameTd.empty();
      groupNameTd.append(
        $(
          `<input id="group-name-input" value="${groupName}" placeholder="group name" style="width: 80%"/>`
        )
      );

      // replace instrument text with input
      const instrumentTd = $(children[1]);
      const instrument = instrumentTd.html();
      instrumentTd.empty();
      instrumentTd.append(
        `<input id="instrument-input" value="${instrument}" placeholder="instrument" style="width: 80%"/>`
      );

      // append remove buttons to the students in the group
      for (let i = 0; i < removeBtnContainers.length; i++) {
        // Create a brand new jQuery object in every iteration
        const removeStudentBtn = $('<button class="rmStudentBtn">-</button>');

        $(removeBtnContainers[i]).append(removeStudentBtn);
      }

      // function to toggle class on the removed student (Using Delegation on the table)
      $("#group-table").off("click", ".rmStudentBtn"); // Remove previous handlers just in case
      $("#group-table").on("click", ".rmStudentBtn", function () {
        const rmBtn = $(this);
        const studentRow = rmBtn.closest("tr");
        // Find all cells that are part of the student data within that row (5 cells before the button container)
        const closestFiveSiblings = studentRow.children().slice(-6);

        if (rmBtn.text() === "-") {
          closestFiveSiblings.addClass("removed-from-group");
          rmBtn.text("+");
        } else {
          closestFiveSiblings.removeClass("removed-from-group");
          rmBtn.text("-");
        }
      });

      // replace lessons with inputs
      // The parent container that holds all the lesson input rows
      const lessonTd = $(children[2]);

      // 1. Retrieve all lesson data from the previously rendered <p> elements
      const lessonElements = lessonTd.find("p");
      const lessonsData = [];

      lessonElements.each(function () {
        const lessonP = $(this);
        const lessonId = lessonP.attr("id");
        const lessonString = lessonP.text(); // e.g., "Mon 10:00"

        if (lessonId && lessonString) {
          const parts = lessonString.trim().split(/\s+/); // Split by one or more spaces
          // Basic structure: Day Time
          const lessonDay = parts[0] || "Day";
          const lessonTime = parts.length > 1 ? parts.slice(1).join(":") : ""; // Handles time formats like HH:MM

          lessonsData.push({
            id: lessonId,
            day: lessonDay,
            time: lessonTime,
          });
        }
      });

      // Clear the cell
      lessonTd.empty();

      // 2. Iterate and create input rows for existing lessons
      lessonsData.forEach((lesson, index) => {
        // Determine the action button for this row: '+' for the last row, '-' for others
        const isLast = index === lessonsData.length - 1;
        const actionButton = isLast
          ? `<button id="add-lesson-btn" data-initial="true">+</button>`
          : `<button class="remove-lesson-btn">-</button>`;

        const newRow = $(`
              <div class="flex-row lesson-row" id="${lesson.id}"> 
                  <div class="day-selector-container">
                      <button class="daySelectButton dropdown-toggle">${lesson.day}</button>
                      <ul class="dayDropdown dropdown-menu">
                          <li><a href="#" data-day="Mon">Mon</a></li>
                          <li><a href="#" data-day="Tue">Tue</a></li>
                          <li><a href="#" data-day="Wed">Wed</a></li>
                          <li><a href="#" data-day="Thu">Thu</a></li>
                          <li><a href="#" data-day="Fri">Fri</a></li>
                      </ul>
                  </div>
                  <input class="lesson-time-input" type="time" value="${lesson.time}" />
                  ${actionButton}
              </div>
          `);
        lessonTd.append(newRow);
      });

      // Case: No initial lessons, add a blank row with a '+' button
      if (lessonsData.length === 0) {
        lessonTd.append(
          $(`
                  <div class="flex-row lesson-row"> 
                      <div class="day-selector-container">
                          <button class="daySelectButton dropdown-toggle">Day</button>
                          <ul class="dayDropdown dropdown-menu">
                              <li><a href="#" data-day="Mon">Mon</a></li>
                              <li><a href="#" data-day="Tue">Tue</a></li>
                              <li><a href="#" data-day="Wed">Wed</a></li>
                              <li><a href="#" data-day="Thu">Thu</a></li>
                              <li><a href="#" data-day="Fri">Fri</a></li>
                          </ul>
                      </div>
                      <input class="lesson-time-input" type="time" value="" />
                      <button id="add-lesson-btn" data-initial="true">+</button>
                  </div>
              `)
        );
      }

      // --- Delegate Lesson Handlers to the Lesson TD (lessonTd is static within edit mode) ---
      lessonTd.off("click"); // Clear any previous handlers

      // --- 1. Function to add new lesson input row ---
      lessonTd.on("click", "#add-lesson-btn", function () {
        // Remove the '+' button from the current row and replace with '-'
        $(this)
          .attr("id", "")
          .removeClass("add-lesson-btn")
          .addClass("remove-lesson-btn")
          .text("-");

        // Add the new blank row with the '+' button
        const newRow = `
          <div class="flex-row lesson-row">
              <div class="day-selector-container">
                  <button class="daySelectButton dropdown-toggle">Day</button>
                  <ul class="dayDropdown dropdown-menu">
                      <li><a href="#" data-day="Mon">Mon</a></li>
                      <li><a href="#" data-day="Tue">Tue</a></li>
                      <li><a href="#" data-day="Wed">Wed</a></li>
                      <li><a href="#" data-day="Thu">Thu</a></li>
                      <li><a href="#" data-day="Fri">Fri</a></li>
                  </ul>
              </div>
              <input class="lesson-time-input" type="time" value=""/>
              <button id="add-lesson-btn">+</button>
          </div>
      `;
        lessonTd.append(newRow);
      });

      // --- 2. Function to remove a lesson input row ---
      lessonTd.on("click", ".remove-lesson-btn", function () {
        const rowToRemove = $(this).closest(".lesson-row");
        const isLastRow = rowToRemove.is(":last-child");

        rowToRemove.hide();

        // If the row removed was the last one, ensure the new last row has the '+' button
        if (isLastRow && lessonTd.find(".lesson-row").length > 0) {
          const newLastRow = lessonTd.find(".lesson-row").last();
          const actionButton = newLastRow.find("button").last();

          if (actionButton.text() === "-") {
            actionButton
              .text("+")
              .attr("id", "add-lesson-btn")
              .removeClass("remove-lesson-btn");
          }
        }
      });

      // --- 2. Remove Lesson Handler (using delegation on lessonTd) ---
      lessonTd.on("click", ".remove-lesson-btn", function () {
        $(this).closest(".lesson-row").hide();
      });

      // --- 3. Dropdown Functionality (using delegation on lessonTd) ---

      // a) Toggle the dropdown when the button is clicked
      lessonTd.on("click", ".daySelectButton", function (e) {
        e.stopPropagation();
        $(this).siblings(".dayDropdown").toggleClass("show");
      });

      // b) Handle selection from the dropdown
      lessonTd.on("click", ".dayDropdown li a", function (e) {
        e.preventDefault();
        const selectedDayText = $(this).text();
        const $container = $(this).closest(".day-selector-container");
        $container.find(".daySelectButton").text(selectedDayText);
        $(this).closest(".dayDropdown").removeClass("show");
      });

      // --- 4. Close the dropdown when clicking anywhere else on the document (Global) ---
      $(document).on("click", function (e) {
        if (!$(e.target).closest(".day-selector-container").length) {
          $(".dayDropdown.show").removeClass("show");
        }
      });

      // replace edit button with save, cancel and delete btns
      btnContainer.empty();
      btnContainer.append(
        $(`
      <button id="save-edit-btn">Save</button>
      <button id="delete-btn" class="delete-btn">Delete</button>
      <button id="cancel-edit-btn" onclick="location.reload()">Cancel</button>
      `)
      );

      // function to trigger confirmation message to delete group
      function showDeleteConfirmation() {
        $("#delete-confirmation").css("display", "flex");
      }
      $("#delete-btn").click(function () {
        showDeleteConfirmation();
      });

      // function to reject confirmation message and re-hide the popup
      function rejectConfirmation() {
        $("#delete-confirmation").css("display", "none");
      }
      $("#reject-confirmation").click(function () {
        rejectConfirmation();
      });

      // function to delete group from database
      function deleteGroup() {
        const actualYear = year;
        let res;

        // all foreign keys are set to ON DELETE CASCADE so all data referencing the deleted group will also be deleted.
        const sql = `DELETE FROM groups_${actualYear} WHERE id = ${rowId};`;

        try {
          res = db.exec(sql);
          console.log(
            `Successfully deleted school of id: ${rowId} all all data referencing it.`
          );
        } catch (e) {
          console.error(`Failed to delete school of id: ${rowId}`, e);
          return false;
        }
        // save updated database to localStorage
        // Export the database to a Uint8Array
        const uint8Array = db.export();
        console.log("Binary array:", uint8Array);
        // convert to base64 string to upload to db
        const base64String = uint8ArrayToBase64(uint8Array);
        console.log("base64string:", base64String);
        localStorage.setItem("dbBase64String", base64String);
        console.log("db with sample data saved to localStorage");
        // reload page
        location.reload();
      }
      $("#confirm-deletion").click(function () {
        deleteGroup();
      });

      // function to save updated group
      $("#save-edit-btn").click(function () {
        // save values of group name, instrument, lesson, notes and ids of students in the group to variables
        // when saving students, check whether they have the 'removed-from-group' class and if they do, do not include them in the insert query
        // sanitise the input values: group name, instrument, lessons and notes to ensure they are valid and won't cause issues with the sql.js query
        // if there are invalid add the messages to the popup and display the popup.

        // Variables I can use which have the correct scope
        // btnContainer = btnElement.parent();
        // row = btnElement.parent().parent();
        // children = row.children();
        // rowId = row.attr("id").split("group")[1];
        // notesTextarea = $(`#notes${rowId}`);
        // removeBtnContainers = $(`.rmBtnCont${rowId}`);
        // instrument = instrumentTd.html();
        // lessonTd = $(children[2]);

        const actualYear = year;

        isAllValid = true;
        invalidMessages = [];

        const sanitise = (str) => {
          return str.replace(/'/g, "''").replace(/`/g, "``").trim();
        };

        // fetch values from inputs for use in the sql query and sanitise them
        const groupName = $("#group-name-input").val()
          ? sanitise($("#group-name-input").val())
          : "";
        const instrument = $("#instrument-input").val()
          ? sanitise($("#instrument-input").val())
          : "";
        const notes = notesTextarea.val() ? sanitise(notesTextarea.val()) : "";

        console.log(
          "Group name:",
          groupName,
          "Instrument:",
          instrument,
          "Notes:",
          notes
        );

        // check variables' values are valid
        checkStringValid("Group name", groupName, 1, 50); // Group name must be entered
        checkStringValid("Instrument", instrument, 0, 50);
        checkStringValid("Notes", notes, 0, 1000);

        // student ids of students in the group who HAVE not been removed (have the line through them class)
        let studentIds = [];
        const rmBtnContainers = $(`.rmBtnCont${rowId}`);
        // iterate through each container
        rmBtnContainers.each(function (index, rawRmBtnContainer) {
          const rmBtnContainer = $(rawRmBtnContainer); // To use jQuery methods on the current element, wrap it
          const studentBtnContainer = rmBtnContainer.prevAll().eq(4);
          if (!studentBtnContainer.hasClass("removed-from-group")) {
            const studentId = studentBtnContainer
              .children()
              .attr("id")
              .split("student")[1];
            studentIds.push(studentId);
          }
        });
        console.log("student ids:", studentIds);

        // get lesson data from rendered elements
        // array of lesson objects
        let lessons = [];
        // get lesson rows
        const lessonRows = lessonTd.children();
        // iterate through lesson rows to create object using their values
        lessonRows.each(function (index, element) {
          const lessonRow = $(element);
          const lessonId = $(lessonRow).attr("id");
          console.log("lesson row", lessonRow);
          if (lessonRow.css("display") === "none") {
            if (lessonId && lessonId !== "") {
              lesson = {
                id: lessonId.split("lesson")[1],
                remove: true, // lessons to be deleted just have an id and a remove
              };
              lessons.push(lesson);
            }
          } else {
            if (lessonId && lessonId !== "") {
              // if id is valid, then it is an existing lesson being edited
              const day = lessonRow.find(".daySelectButton").text();
              const time = lessonRow.find(".lesson-time-input").val();
              if (day === "Day" || time === "") {
                // check day and time are valid
                isAllValid = false;
                invalidMessages.push(
                  "At least one of the lessons are invalid because it does not have a valid day and time entered"
                );
              } else {
                const lesson = {
                  id: lessonId.split("lesson")[1],
                  day: $(lessonRow).find(".daySelectButton").text(),
                  time: $(lessonRow).find(".lesson-time-input").val(),
                };
                lessons.push(lesson);
              }
            } else {
              const day = lessonRow.find(".daySelectButton").text();
              const time = lessonRow.find(".lesson-time-input").val();
              console.log("day:", day, "time", time);
              if (day === "Day" && time === "") {
                console.log("day = Day & time = ''");
              } else if (day === "Day" || time === "") {
                // check day and time are valid
                isAllValid = false;
                invalidMessages.push(
                  "At least one of the lessons are invalid because it does not have a valid day and time entered"
                );
              } else {
                const lesson = {
                  day: day,
                  time: time,
                };
                lessons.push(lesson);
              }
            }
          }
        });
        console.log("lessons:", lessons);

        // check if all inputs are valid and if not, show pop up and stop function
        if (!isAllValid) {
          $("#invalid-input").css("display", "flex");
          const appendInvalid = $("#append-invalid");

          for (let i = 0; i < invalidMessages.length; i++) {
            appendInvalid.append(
              $(`
                <p>${invalidMessages[i]}</p>
              `)
            );
          }
          return false;
        }
        // Make null values 'NULL' strings for sql queries
        const nullify = (val) =>
          val === "" || val === null ? "NULL" : `'${val}'`;

        // The rowId variable holds the ID of the existing group being updated.

        // execute insertion query with inputted values
        // NOTE: For lesson inputs check whether it has an id and if so, include a where clause for its insertion
        try {
          db.exec(
            `
    -- 1. UPDATE the main group information
    UPDATE groups_${actualYear}
    SET
      name = ${nullify(groupName)},
      instrument = ${nullify(instrument)},
      notes = ${nullify(notes)}
    WHERE
      id = ${rowId};

    -- 2. DELETE all current student associations for this group
    DELETE FROM join_groups_students_${actualYear}
    WHERE group_id = ${rowId};

    -- 3. INSERT new student associations (only for students NOT marked as 'removed')
    ${studentIds
      .map(
        (studentId) => `
          INSERT INTO join_groups_students_${actualYear} (student_id, group_id)
          VALUES (${studentId}, ${rowId});
        `
      )
      .join("\n")}

    -- 4. UPDATE or INSERT Lessons
    ${lessons
      .map((lesson) => {
        if (lesson.remove) {
          // lesson has a remove constraint, remove it
          return `
          DELETE FROM lessons_${actualYear} WHERE id = ${lesson.id};
          `;
        } else if (lesson.id) {
          // If the lesson object has an 'id', it's an existing lesson -> UPDATE
          return `
            UPDATE lessons_${actualYear}
            SET
              day = ${nullify(lesson.day)},
              time = ${nullify(lesson.time)},
              group_id = ${rowId}
            WHERE
              id = ${lesson.id};
          `;
        }
        // If the lesson object does NOT have an 'id', it's a new lesson -> INSERT
        else {
          return `
            INSERT INTO lessons_${actualYear} (day, time, group_id)
            VALUES (${nullify(lesson.day)}, ${nullify(lesson.time)}, ${rowId});
          `;
        }
      })
      .join("\n")}
  `
          );
          console.log("Group, lesson and student data updated successfully");

          // save updated database to localStorage
          // Export the database to a Uint8Array
          const uint8Array = db.export();
          console.log("Binary array:", uint8Array);
          // convert to base64 string to upload to db
          const base64String = uint8ArrayToBase64(uint8Array);
          console.log("base64string:", base64String);
          localStorage.setItem("dbBase64String", base64String);
          console.log("db with updated data added saved to localStorage");

          // reload page to rerender table
          location.reload();
        } catch (e) {
          console.log("Failed to insert group, lesson and student data:", e);
        }
      });
    }
    $(".group-edit-btn").click(function () {
      editGroup($(this));
    });
  }
  getGroups();
});
