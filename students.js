$(document).ready(function () {
  // -----     FILE OVERVIEW     -----
  // 1. Check dark mode preference is saved to local storage - if not: add item to local storage - else: update render based on preference
  // 2. Check database is saved to local storage - if not: add default db item to local storage and initialise default db - else: initialise saved db

  // ---   REFERENCE NOTES   ---
  // link button
  // function openCreatePage() {
  //   window.location.href = "create.html";
  // }

  // set item in local storage
  // let quizTitleStringified = JSON.stringify(quizTitle);
  // localStorage.setItem("selectedQuiz", quizTitleStringified);

  // let quizKey = localStorage.key(integer);
  // let quizStringified = localStorage.getItem(quizKey);
  // let quiz = JSON.parse(quizStringified);

  // check dark/light mode setting
  let darkModeEnabled = JSON.parse(localStorage.getItem("darkModeEnabled"));
  if (darkModeEnabled === null) {
    localStorage.setItem("darkModeEnabled", JSON.stringify(false));
    darkModeEnabled = false;
  } else {
    if (darkModeEnabled) {
      $("html").attr("data-theme", "dark");
    }
  }

  // dark/light mode toggle functionality
  $("#dark-mode-toggle").click(function () {
    if (darkModeEnabled) {
      darkModeEnabled = false;
      localStorage.setItem("darkModeEnabled", JSON.stringify(false));
      $("html").attr("data-theme", "light"); // is equivalent to $(document.documentElement).attr('data-theme', 'dark');
    } else {
      darkModeEnabled = true;
      localStorage.setItem("darkModeEnabled", JSON.stringify(true));
      $("html").attr("data-theme", "dark"); // document.documentElement refers to the root element of the document, which is the <html> element.
    }
  });

  // show/hide hamburger drop down
  let dropdownHidden = true;
  $("#hamburger-menu").click(function () {
    const dropdown = $("#hamburger-dropdown");
    if (dropdownHidden) {
      dropdown.show();
      dropdownHidden = false;
    } else {
      dropdown.hide();
      dropdownHidden = true;
    }
  });
});

// retrieve/set selected year from localStorage
let year = localStorage.getItem("selectedYear");
if (year === null) {
  localStorage.setItem("selectedYear", JSON.stringify(2025));
  year = 2025;
}
console.log("Selected year: " + year);

// ---   SQL.JS   ---
// declare db variable so it can be updated if db-file uploaded
let db;

// convert uint8array to string using base64 encoding
function uint8ArrayToBase64(uint8Array) {
  let binaryString = String.fromCharCode.apply(null, uint8Array);
  return btoa(binaryString); // btoa() encodes to base64 in the browser
}

// convert base64 encoding back to uint8array
function base64ToUint8Array(base64String) {
  let binaryString = atob(base64String); // atob() decodes base64 to binary string
  let uint8Array = new Uint8Array(binaryString.length);

  for (let i = 0; i < binaryString.length; i++) {
    uint8Array[i] = binaryString.charCodeAt(i); // Convert each char back to byte
  }

  return uint8Array;
}

// locate the sql.js file
const config = {
  locateFile: (filename) => `/libraries/${filename}`,
  // if change folder structure then change <script> reference to match as well
};

// Initialise SQL JS
initSqlJs(config).then(function (SQL) {
  // check if db string is saved to localstorage
  let dbBase64String = localStorage.getItem("dbBase64String");
  if (dbBase64String === null) {
    console.log("db string not saved to local storage");
    // if not saved, add default db with no data stored in it
    const defaultDbSting =
      "U1FMaXRlIGZvcm1hdCAzABAAAQEAQCAgAAAABAAAAA0AAAADAAAAAQAAAA8AAAAEAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAC5fGgUAAAABD/sAAAAACg/7C6sKagpiAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAACCPgUHFyUlAYQ/dGFibGVsZXNzb25zXzIwMjVsZXNzb25zXzIwMjUGQ1JFQVRFIFRBQkxFICJsZXNzb25zXzIwMjUiICgKICAgIGlkIElOVEVHRVIgUFJJTUFSWSBLRVksCiAgICBkYXkgVEVYVCwKICAgIHRpbWUgVEVYVCwKICAgIHN0dWRlbnRfaWQgSU5URUdFUiwKICAgIGdyb3VwX2lkIElOVEVHRVIsCiAgICBGT1JFSUdOIEtFWShzdHVkZW50X2lkKSBSRUZFUkVOQ0VTIHN0dWRlbnRzXzIwMjUoaWQpIE9OIERFTEVURSBDQVNDQURFLAogICAgRk9SRUlHTiBLRVkoZ3JvdXBfaWQpIFJFRkVSRU5DRVMgZ3JvdXBzXzIwMjUoaWQpIE9OIERFTEVURSBDQVNDQURFCimCWQQHFycnAYRxdGFibGVzdHVkZW50c18yMDI1c3R1ZGVudHNfMjAyNQVDUkVBVEUgVEFCTEUgInN0dWRlbnRzXzIwMjUiICgKICAgIGlkIElOVEVHRVIgUFJJTUFSWSBLRVksCiAgICBzY2hvb2xfaWQgSU5URUdFUiwKICAgIGZpcnN0X25hbWUgVEVYVCwKICAgIGxhc3RfbmFtZSBURVhULAogICAgZm9ybV9jbGFzcyBURVhULAogICAgbm90ZXMgVEVYVCwKICAgIG1vYmlsZSBURVhULAogICAgZW1haWwgVEVYVCwKICAgIHllYXIgSU5URUdFUiwKICAgIGluc3RydW1lbnQgVEVYVCwKICAgIEZPUkVJR04gS0VZKHNjaG9vbF9pZCkgUkVGRVJFTkNFUyBzY2hvb2xzXzIwMjUoaWQpIE9OIERFTEVURSBDQVNDQURFCimCMAMHFx8fAYQvdGFibGVob2RzXzIwMjVob2RzXzIwMjUEQ1JFQVRFIFRBQkxFICJob2RzXzIwMjUiICgKICAgICJpZCIgSU5URUdFUiwKICAgICJzY2hvb2xfaWQiIElOVEVHRVIsCiAgICAiZmlyc3RfbmFtZSIgVEVYVCwKICAgICJsYXN0X25hbWUiIFRFWFQsCiAgICAibW9iaWxlIiBURVhULAogICAgInBob25lIiBURVhULAogICAgImVtYWlsIiBURVhULAogICAgUFJJTUFSWSBLRVkoImlkIiksCiAgICBGT1JFSUdOIEtFWSgic2Nob29sX2lkIikgUkVGRVJFTkNFUyAic2Nob29sc18yMDI1IigiaWQiKSBPTiBERUxFVEUgQ0FTQ0FERQopgUsCBxcjIwGCXXRhYmxlZ3JvdXBzXzIwMjVncm91cHNfMjAyNQNDUkVBVEUgVEFCTEUgImdyb3Vwc18yMDI1IiAoCiAgICBpZCBJTlRFR0VSIFBSSU1BUlkgS0VZLAogICAgbmFtZSBURVhULAogICAgcGFzdF9yZXBlcnRvaXJlIFRFWFQsCiAgICByZXBlcnRvaXJlIFRFWFQsCiAgICBmdXR1cmVfcmVwZXJ0b2lyZSBURVhULAogICAgaW5zdHJ1bWVudCBURVhUCimBdQEHFyUlAYMtdGFibGVzY2hvb2xzXzIwMjVzY2hvb2xzXzIwMjUCQ1JFQVRFIFRBQkxFICJzY2hvb2xzXzIwMjUiICgKICAgICJpZCIgSU5URUdFUiwKICAgICJuYW1lIiBURVhULAogICAgInJvb20iIFRFWFQsCiAgICAicGhvbmUiIFRFWFQsCiAgICAiaG9tZXBhZ2UiIFRFWFQsCiAgICAibm90ZXMiIFRFWFQsCiAgICAid2lmaSIgVEVYVCwKICAgICJwaG90b19jb3B5X25vdGVzIiBURVhULAogICAgUFJJTUFSWSBLRVkoImkAAAAIBg0AAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0AAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0AAAAFAQwADwgN1Qx5CzgBDAEMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANwXIyMBgnl0YWJsZWdyb3Vwc18yMDI1Z3JvdXBzXzIwMjUDQ1JFQVRFIFRBQkxFICJncm91cHNfMjAyNSIgKAogICAgaWQgSU5URUdFUiBQUklNQVJZIEtFWSwKICAgIG5hbWUgVEVYVCwKICAgIHBhc3RfcmVwZXJ0b2lyZSBURVhULAogICAgcmVwZXJ0b2lyZSBURVhULAogICAgZnV0dXJlX3JlcGVydG9pcmUgVEVYVCwKICAgIGluc3RydW1lbnQgVEVYVAosICJub3RlcyIJVEVYVCmUKQYHFysrAagJdGFibGVhdHRlbmRhbmNlXzIwMjVhdHRlbmRhbmNlXzIwMjUHQ1JFQVRFIFRBQkxFICJhdHRlbmRhbmNlXzIwMjUiICgKICAgICJpZCIgSU5URUdFUiwKICAgICJsZXNzb25faWQiIElOVEVHRVIsCiAgICAidDFfd2sxX25vdGVzIiBURVhULAogICAgInQxX3drMl9ub3RlcyIgVEVYVCwKICAgICJ0MV93azNfbm90ZXMiIFRFWFQsCiAgICAidDFfd2s0X25vdGVzIiBURVhULAogICAgInQxX3drNV9ub3RlcyIgVEVYVCwKICAgICJ0MV93azZfbm90ZXMiIFRFWFQsCiAgICAidDFfd2s3X25vdGVzIiBURVhULAogICAgInQxX3drOF9ub3RlcyIgVEVYVCwKICAgICJ0MV93azlfbm90ZXMiIFRFWFQsCiAgICAidDFfd2sxMF9ub3RlcyIgVEVYVCwKICAgICJ0MV93azExX25vdGVzIiBURVhULAogICAgInQxX3drMV9hdHRlbmRhbmNlIiBURVhULAogICAgInQxX3drMl9hdHRlbmRhbmNlIiBURVhULAogICAgInQxX3drM19hdHRlbmRhbmNlIiBURVhULAogICAgInQxX3drNF9hdHRlbmRhbmNlIiBURVhULAogICAgInQxX3drNV9hdHRlbmRhbmNlIiBURVhULAogICAgInQxX3drNl9hdHRlbmRhbmNlIiBURVhULAogICAgInQxX3drN19hdHRlbmRhbmNlIiBURVhULAogICAgInQxX3drOF9hdHRlbmRhbmNlIiBURVhULAogICAgInQxX3drOV9hdHRlbmRhbmNlIiBURVhULAogICAgInQxX3drMTBfYXR0ZW5kYW5jZSIgVEVYVCwKICAgICJ0MV93azExX2F0dGVuZGFuY2UiIFRFWFQsCiAgICAidDJfd2sxX25vdGVzIiBURVhULAogICAgInQyX3drMl9ub3RlcyIgVEVYVCwKICAgICJ0Ml93azNfbm90ZXMiIFRFWFQsCiAgICAidDJfd2s0X25vdGVzIiBURVhULAogICAgInQyX3drNV9ub3RlcyIgVEVYVCwKICAgICJ0Ml93azZfbm90ZXMiIFRFWFQsCiAgICAidDJfd2s3X25vdGVzIiBURVhULAogICAgInQyX3drOF9ub3RlcyIgVEVYVCwKICAgICJ0Ml93azlfbm90ZXMiIFRFWFQsCiAgICAidDJfd2sxMF9ub3RlcyIgVEVYVCwKICAgICJ0Ml93azExX25vdGVzIiBURVhULAogICAgInQyX3drMV9hdHRlbmRhbmNlIiBURVhULAogICAgInQyX3drMl9hdHRlbmRhbmNlIiBURVhULAogICAgInQyX3drM19hdHRlbmRhbmNlIiBURVhULAogICAgInQyX3drNF9hdHRlbmRhbmNlIiBURVhULAogICAgInQyX3drNV9hdHRlbmRhbmNlIiBURVhULAogICAgInQyX3drNl9hdHRlbmRhbmNlIiBURVhULAogICAgInQyX3drN19hdHRlbmRhbmNlIiBURVhULAogICAgInQyX3drOF9hdHRlbmRhbmNlIiBURVhULAogICAgInQyX3drOV9hdHRlbmRhbmNlIiBURVhULAogICAgInQyX3drMTBfYXR0ZW5kYW5jZSIgVEVYVCwKICAgICJ0Ml93azExX2F0dGVuZGFuY2UiIFRFWFQsCiAgICAidDNfd2sxX25vdGVzIiBURVhULAogICAgInQzX3drMl9ub3RlcyIgVEVYVCwKICAgICJ0M193azNfbm90ZXMiIFRFWFQsCiAgICAidDNfd2s0X25vdGVzIiBURVhULAogICAgInQzX3drNV9ub3RlcyIgVEVYVCwKICAgICJ0M193azZfbm90ZXMiIFRFWFQsCiAgICAidDNfd2s3X25vdGVzIiBURVhULAogICAgInQzX3drOF9ub3RlcyIgVEVYVCwKICAgICJ0M193azlfbm90ZXMiIFRFWFQsCiAgICAidDNfd2sxMF9ub3RlcyIgVEVYVCwKICAgICJ0M193azExX25vdGVzIiBURVhULAogICAgInQzX3drMV9hdHRlbmRhbmNlIiBURVhULAogICAgInQzX3drMl9hdHRlbmRhbmNlIiBURVhULAogICAgInQzX3drM19hdHRlbmRhbmNlIiBURVhULAogICAgInQzX3drNF9hdHRlbmRhbmNlIiBURVhULAogICAgInQzX3drNV9hdHRlbmRhbmNlIiBURVhULAogICAgInQzX3drNl9hdHRlbmRhbmNlIiBURVhULAogICAgInQzX3drN19hdHRlbmRhbmNlIiBURVhULAogICAgInQzX3drOF9hdHRlbmRhbmNlIiBURVhULAogICAgInQzX3drOV9hdHRlbmRhbmNlIiBURVhULAogICAgInQzX3drMTBfYXR0ZW5kYW5jZSIgVEVYVCwKICAgICJ0M193azExX2F0dGVuZGFuY2UiIFRFWFQsCiAgICAidDRfd2sxX25vdGVzIiBURVhULAogICAgInQ0X3drMl9ub3RlcyIgVEVYVCwKICAgICJ0NF93azNfbm90ZXMiIFRFWFQsCiAgICAidDRfd2s0X25vdGVzIiBURVhULAogICAgInQ0X3drNV9ub3RlcyIgVEVYVCwKICAgICJ0NF93azZfbm90ZXMiIFRFWFQsCiAgICAidDRfd2s3X25vdGVzIiBURVhULAogICAgInQ0X3drOF9ub3RlcyIgVEVYVCwKICAgICJ0NF93azlfbm90ZXMiIFRFWFQsCiAgICAidDRfd2sxMF9ub3RlcyIgVEVYVCwKICAgICJ0NF93azFfYXR0ZW5kYW5jZSIgVEVYVCwKICAgICJ0NF93azJfYXR0ZW5kYW5jZSIgVEVYVCwKICAgICJ0NF93azNfYXR0ZW5kYW5jZSIgVEVYVCwKICAgICJ0NF93azRfYXR0ZW5kYW5jZSIgVEVYVCwKICAgICJ0NF93azVfYXR0ZW5kYW5jZSIgVEVYVCwKICAgICJ0NF93azZfYXR0ZW5kYW5jZSIgVEVYVCwKICAgICJ0NF93azdfYXR0ZW5kYW5jZSIgVEVYVCwKICAgICJ0NF93azhfYXR0ZW5kYW5jZSIgVEVYVCwKICAgICJ0NF93azlfYXR0ZW5kYW5jZSIgVEVYVCwKICAgICJ0NF93azEwX2F0dGVuZGFuY2UiIFRFWFQsCiAgICBQUklNQVJZIEtFWSgiaWQiKSwKICAgIEZPUkVJR04gS0VZKCJsZXNzb25faWQiKSBSRUZFUkVOQ0VTICJsZXNzb25zXzIwMjUiKCJpZCIpIE9OIERFTEVURSBDQVNDQURFCimCPgUHFyUlAYQ/dGFibGVsZXNzb25zXzIwMjVsZXNzb25zXzIwMjUGQ1JFQVRFIFRBQkxFICJsZXNzb25zXzIwMjUiICgKICAgIGlkIElOVEVHRVIgUFJJTUFSWSBLRVksCiAgICBkYXkgVEVYVCwKICAgIHRpbWUgVEVYVCwKICAgIHN0dWRlbnRfaWQgSU5URUdFUiwKICAgIGdyb3VwX2lkIElOVEVHRVIsCiAgICBGT1JFSUdOIEtFWShzdHVkZW50X2lkKSBSRUZFUkVOQ0VTIHN0dWRlbnRzXzIwMjUoaWQpIE9OIERFTEVURSBDQVNDQURFLAogICAgRk9SRUlHTiBLRVkoZ3JvdXBfaWQpIFJFRkVSRU5DRVMgZ3JvdXBzXzIwMjUoaWQpIE9OIERFTEVURSBDQVNDQURFCimCWQQHFycnAYRxdGFibGVzdHVkZW50c18yMDI1c3R1ZGVudHNfMjAyNQVDUkVBVEUgVEFCTEUgInN0dWRlbnRzXzIwMjUiICgKICAgIGlkIElOVEVHRVIgUFJJTUFSWSBLRVksCiAgICBzY2hvb2xfaWQgSU5URUdFUiwKICAgIGZpcnN0X25hbWUgVEVYVCwKICAgIGxhc3RfbmFtZSBURVhULAogICAgZm9ybV9jbGFzcyBURVhULAogICAgbm90ZXMgVEVYVCwKICAgIG1vYmlsZSBURVhULAogICAgZW1haWwgVEVYVCwKICAgIHllYXIgSU5URUdFUiwKICAgIGluc3RydW1lbnQgVEVYVCwKICAgIEZPUkVJR04gS0VZKHNjaG9vbF9pZCkgUkVGRVJFTkNFUyBzY2hvb2xzXzIwMjUoaWQpIE9OIERFTEVURSBDQVNDQURFCimCMAMHFx8fAYQvdGFibGVob2RzXzIwMjVob2RzXzIwMjUEQ1JFQVRFIFRBQkxFICJob2RzXzIwMjUiICgKICAgICJpZCIgSU5URUdFUiwKICAgICJzY2hvb2xfaWQiIElOVEVHRVIsCiAgICAiZmlyc3RfbmFtZSIgVEVYVCwKICAgICJsYXN0X25hbWUiIFRFWFQsCiAgICAibW9iaWxlIiBURVhULAogICAgInBob25lIiBURVhULAogICAgImVtYWlsIiBURVhULAogICAgUFJJTUFSWSBLRVkoImlkIiksCiAgICBGT1JFSUdOIEtFWSgic2Nob29sX2lkIikgUkVGRVJFTkNFUyAic2Nob29sc18yMDI1IigiaWQiKSBPTiBERUxFVEUgQ0FTQ0FERQopgXUBBxclJQGDLXRhYmxlc2Nob29sc18yMDI1c2Nob29sc18yMDI1AkNSRUFURSBUQUJMRSAic2Nob29sc18yMDI1IiAoCiAgICAiaWQiIElOVEVHRVIsCiAgICAibmFtZSIgVEVYVCwKICAgICJyb29tIiBURVhULAogICAgInBob25lIiBURVhULAogICAgImhvbWVwYWdlIiBURVhULAogICAgIm5vdGVzIiBURVhULAogICAgIndpZmkiIFRFWFQsCiAgICAicGhvdG9fY29weV9ub3RlcyIgVEVYVCwKICAgIFBSSU1BUlkgS0VZKCJpZCIpCikNAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAQJvgAOwQxvCp0JvgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPEXLwAAAOsXLy8Bgn90YYFcCgcXIyMBgn90YWJsZWdyb3Vwc18yMDI1Z3JvdXBzXzIwMjUNQ1JFQVRFIFRBQkxFICJncm91cHNfMjAyNSIgKAoJImlkIglJTlRFR0VSLAoJIm5hbWUiCVRFWFQsCgkicGFzdF9yZXBlcnRvaXJlIglURVhULAoJInJlcGVydG9pcmUiCVRFWFQsCgkiZnV0dXJlX3JlcGVydG9pcmUiCVRFWFQsCgkiaW5zdHJ1bWVudCIJVEVYVCwKCSJub3RlcyIJVEVYVCwKCVBSSU1BUlkgS0VZKCJpZCIpCimDTwkHFysrAYZVdGFibGV5ZWFyX3BsYW5zXzIwMjV5ZWFyX3BsYW5zXzIwMjUMQ1JFQVRFIFRBQkxFICJ5ZWFyX3BsYW5zXzIwMjUiICgKICAgICJpZCIgSU5URUdFUiwKICAgICJzdHVkZW50X2lkIiBJTlRFR0VSLAogICAgImdyb3VwX2lkIiBJTlRFR0VSLAogICAgInBsYW4iIFRFWFQsCiAgICAiZ29hbHMiIFRFWFQsCiAgICAidGVjaG5pY2FsX21hdGVyaWFscyIgVEVYVCwKICAgICJtdXNpY2lhbnNoaXBfbWF0ZXJpYWxzIiBURVhULAogICAgInBlcmZvcm1hbmNlX21hdGVyaWFscyIgVEVYVCwKICAgIFBSSU1BUlkgS0VZKCJpZCIpLAogICAgRk9SRUlHTiBLRVkoImdyb3VwX2lkIikgUkVGRVJFTkNFUyAiZ3JvdXBzXzIwMjUiKCJpZCIpIE9OIERFTEVURSBDQVNDQURFLAogICAgRk9SRUlHTiBLRVkoInN0dWRlbnRfaWQiKSBSRUZFUkVOQ0VTICJzdHVkZW50c18yMDI1IigiaWQiKSBPTiBERUxFVEUgQ0FTQ0FERQophE8IBxcrKwGIVXRhYmxldGVybV9wbGFuc18yMDI1dGVybV9wbGFuc18yMDI1C0NSRUFURSBUQUJMRSAidGVybV9wbGFuc18yMDI1IiAoCiAgICAiaWQiIElOVEVHRVIsCiAgICAiZ3JvdXBfaWQiIElOVEVHRVIsCiAgICAic3R1ZGVudF9pZCIgSU5URUdFUiwKICAgICJ0MV9wcm9ncmFtcyIgVEVYVCwKICAgICJ0Ml9wcm9ncmFtcyIgVEVYVCwKICAgICJ0M19wcm9ncmFtcyIgVEVYVCwKICAgICJ0NF9wcm9ncmFtcyIgVEVYVCwKICAgICJ0MV9nb2FscyIgVEVYVCwKICAgICJ0Ml9nb2FscyIgVEVYVCwKICAgICJ0M19nb2FscyIgVEVYVCwKICAgICJ0NF9nb2FscyIgVEVYVCwKICAgICJ0MV9wbGFucyIgVEVYVCwKICAgICJ0Ml9wbGFucyIgVEVYVCwKICAgICJ0M19wbGFucyIgVEVYVCwKICAgICJ0NF9wbGFucyIgVEVYVCwKICAgIFBSSU1BUlkgS0VZKCJpZCIpLAogICAgRk9SRUlHTiBLRVkoImdyb3VwX2lkIikgUkVGRVJFTkNFUyAiZ3JvdXBzXzIwMjUiKCJpZCIpIE9OIERFTEVURSBDQVNDQURFLAogICAgRk9SRUlHTiBLRVkoInN0dWRlbnRfaWQiKSBSRUZFUkVOQ0VTICJzdHVkZW50c18yMDI1IigiaWQiKSBPTiBERUxFVEUgQ0FTQ0FERQopgjwHBxc/PwGEB3RhYmxlam9pbl9ncm91cHNfc3R1ZGVudHNfMjAyNWpvaW5fZ3JvdXBzX3N0dWRlbnRzXzIwMjUJQ1JFQVRFIFRBQkxFICJqb2luX2dyb3Vwc19zdHVkZW50c18yMDI1IiAoCiAgICAic3R1ZGVudF9pZCIgSU5URUdFUiwKICAgICJncm91cF9pZCIgSU5URUdFUiwKICAgIEZPUkVJR04gS0VZKCJncm91cF9pZCIpIFJFRkVSRU5DRVMgImdyb3Vwc18yMDI1IigiaWQiKSBPTiBERUxFVEUgQ0FTQ0FERSwKICAgIEZPUkVJR04gS0VZKCJzdHVkZW50X2lkIikgUkVGRVJFTkNFUyAic3R1ZGVudHNfMjAyNSIoImlkIikgT04gREVMRVRFIENBU0NBREUKKQ0AAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==";
    localStorage.setItem("dbBase64String", defaultDbSting);
    // initialise default db
    restoredUint8Array = base64ToUint8Array(defaultDbSting);
    try {
      // Load the default SQLite database from the Uint8Array
      db = new SQL.Database(restoredUint8Array);
      // Execute a simple SQL query to list all tables in the database
      const res = db.exec("SELECT name FROM sqlite_master WHERE type='table';");
      // Display the result (list of tables) in console
      console.log("Initialised default db: " + JSON.stringify(res, null, 2));
    } catch (e) {
      // If an error occurs (e.g., invalid Uint8Array), show the error message
      console.log(
        "Failed to load default database from restored default Uint8Array: " + e
      );
    }
  } else {
    // if saved, initiate sql.js db using saved db string
    if (dbBase64String) {
      console.log("db string found in local storage");
      // convert saved database string to Uint8Array (format used for initialising SQL.JS db)
      let restoredUint8Array;
      try {
        restoredUint8Array = base64ToUint8Array(dbBase64String);
      } catch (e) {
        console.log(
          "Failed to convert saved database string from localstorage to Uint8Array: " +
            e
        );
        console.log("db string: " + dbBase64String);
      }
      try {
        // Load the SQLite database from the Uint8Array
        db = new SQL.Database(restoredUint8Array);
        // Execute a simple SQL query to list all tables in the database
        const res = db.exec(
          "SELECT name FROM sqlite_master WHERE type='table';"
        );
        // Display the result (list of tables) in console
        console.log("Initialised saved db: " + JSON.stringify(res, null, 2));
      } catch (e) {
        // If an error occurs (e.g., invalid Uint8Array), show the error message
        console.log("Failed to load database from restored Uint8Array: " + e);
      }
    }
  }
  // Enable foreign key support
  db.run("PRAGMA foreign_keys = ON;");

  // download DB to file
  $("#download-backup").click(function () {
    // Export the database to a Uint8Array
    const binaryArray = db.export();

    console.log(JSON.stringify(binaryArray));

    // Create a Blob from the binary array
    const blob = new Blob([binaryArray], { type: "application/octet-stream" });

    // Create a link and trigger a download
    const url = URL.createObjectURL(blob);
    const a = document.createElement("a");
    a.href = url;
    a.download = "mydatabase.sqlite";
    document.body.appendChild(a);
    a.click();

    // Clean up
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
  });

  // ---  NECESSARY ON EVERY PAGE    PAGE SPECIFIC ---

  // REMEMBER:
  // year,
  // input box on top,
  // sanitise inputs,
  // use try/catch for queries,
  // include db IDs for render and save,
  // add delete btn,
  // include room for sorting/search/constraints in SQL query
  // one add at a time
  // one edit at a time

  let editing = false; // true if student being edited/added

  let order;
  let search;

  // validation functions
  let isAllValid = true;

  // messages for invalid stuff
  let invalidMessages = [];

  // Validation rules and error messages function
  const checkStringValid = (label, value, min, max) => {
    if (typeof value === "string") {
      if (value.length >= min) {
        if (value.length <= max) {
          console.log(`${label} inputted is valid!`);
        } else {
          isAllValid = false;
          invalidMessages.push(
            // append messages to the array for later displaying
            `${label} is invalid: inputted value is above maximum character limit of ${max}. Value inputted: ${value}`
          );
        }
      } else {
        isAllValid = false;
        invalidMessages.push(
          `${label} is invalid: inputted value does reach the minimum character limit of ${min}. Value inputted: ${value}`
        );
      }
    } else {
      isAllValid = false;
      invalidMessages.push(
        `${label} is invalid: inputted value is not a string. Value inputted: ${value}`
      );
    }
  };

  const checkIntValid = (label, value, min, max) => {
    const parsedValue = parseInt(value);
    if (!isNaN(parsedValue)) {
      if (parsedValue >= min) {
        if (parsedValue <= max) {
          console.log(`${label} is valid!`);
        } else {
          isAllValid = false;
          invalidMessages.push(
            `${label} is invalid: inputted value is greater than the maximum value. Value inputted: ${value}`
          );
        }
      } else {
        isAllValid = false;
        invalidMessages.push(
          `${label} is invalid: inputted value is lesson the minimum. Value inputted: ${value}`
        );
      }
    } else {
      isAllValid = false;
      invalidMessages.push(
        `${label} is invalid: inputted value is not an integer. Value inputted: ${value}`
      );
    }
  };

  // validate email input
  const checkEmailValid = (label, value, nullable) => {
    if (nullable && value === "") {
      console.log(`${label} is an empty string but is valid!`);
    } else {
      if (value === "" || value === null) {
        console.log(`${label} inputted is null but still valid`);
      } else if (value.length <= 255) {
        if (/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(value)) {
          console.log(`${label} inputted is valid!`);
        } else {
          isAllValid = false;
          invalidMessages.push(
            `${label} is invalid: inputted value does not follow correct format for an email address`
          );
        }
      } else {
        isAllValid = false;
        invalidMessages.push(
          `${label} is invalid: inputted value is above the maximum character limit of 25. Value inputted: ${value}`
        );
      }
    }
  };

  // dismiss invalid input message
  function dismissInvalid() {
    $("#invalid-input").css("display", "none");
    $("#append-invalid").empty();
  }
  $("#rehide-invalid-popup").click(function () {
    dismissInvalid();
  });

  // onload retrieve data for students page and render table rows
  function getStudents() {
    // order = <column> <ASC or DESC>"
    // search = <column> = <value>

    // build query components based on variables
    const whereClause = search ? `WHERE ${search}` : "";
    const orderClause = order
      ? `ORDER BY ${order}`
      : "ORDER BY s.first_name, s.last_name ASC";

    // retrieve data
    let res;
    try {
      res = db.exec(
        `SELECT 
          s.id AS student_id,
          sc.id AS school_id,
          s.first_name AS first_name, 
          s.last_name AS last_name, 
          sc.name AS school_name, 
          s.instrument AS instrument, 
          GROUP_CONCAT(DISTINCT l.id) AS lesson_ids,
          GROUP_CONCAT(DISTINCT l.day || ' ' || l.time) AS lessons, 
          GROUP_CONCAT(DISTINCT g.id) AS group_ids,
          GROUP_CONCAT(DISTINCT g.name) AS groups, 
          s.year, 
          s.form_class, 
          s.email,
          GROUP_CONCAT(l.group_id) AS lesson_group_ids
        FROM 
          students_${year} s 
        JOIN 
          schools_${year} sc 
        ON 
          s.school_id = sc.id 
        LEFT JOIN 
          join_groups_students_${year} jgs 
        ON 
          s.id = jgs.student_id 
        LEFT JOIN 
          groups_${year} g 
        ON 
          jgs.group_id = g.id 
        LEFT JOIN 
          lessons_${year} l 
        ON 
          (l.group_id = g.id OR l.student_id = s.id)
        GROUP BY 
          s.id, 
          sc.id,
          s.first_name, 
          s.last_name, 
          sc.name, 
          s.year, 
          s.form_class, 
          s.email 
        ${whereClause}
        ${orderClause};`
      );
      console.log("Students: " + JSON.stringify(res));
    } catch (e) {
      console.log("Failed to retrieve student data");
    }
    try {
      const values = res[0].values;
      console.log("Students values: " + JSON.stringify(values));
      // select table body to append data to
      const tbody = $("#table-body");
      // render data in table
      for (let i = 0; i < values.length; i++) {
        const studentId = values[i][0] ? values[i][0] : "";
        const schoolId = values[i][1] ? values[i][1] : "";
        const firstName = values[i][2] ? values[i][2] : "";
        const lastName = values[i][3] ? values[i][3] : "";
        const schoolName = values[i][4] ? values[i][4] : "";
        const instrument = values[i][5] ? values[i][5] : "";
        const lessonIds = values[i][6] ? values[i][6].split(",") : [];
        const lessonDayTimes = values[i][7]
          ? values[i][7].split(",").map((lesson, index) => {
              const [day, time] = lesson.split(" ");
              return {
                id: lessonIds[index],
                day: day,
                time: time,
              };
            })
          : [];
        // console.log("lessons:", lessons);
        const groupIds = values[i][8] ? values[i][8].split(",") : [];
        const groupNames = values[i][9] ? values[i][9].split(",") : [];
        let groups = [];
        groupIds.forEach((id, index) => {
          groups.push({ id: id, name: groupNames[index] });
        });
        // console.log("groups", groups);
        const yearLevel = values[i][10] ? values[i][10] : "";
        const formClass = values[i][11] ? values[i][11] : "";
        const email = values[i][12] ? values[i][12] : "";
        const lessonGroupIds = values[i][13] ? values[i][13].split(",") : "";
        let lessons = [];
        lessonDayTimes.forEach((lesson, index) => {
          if (lessonGroupIds[index] && lessonGroupIds[index] !== "") {
            lesson.groupId = lessonGroupIds[index];
          }
          lessons.push(lesson);
        });

        console.log("studentId:", studentId);
        console.log("schoolId:", schoolId);
        console.log("firstName:", firstName);
        console.log("lastName:", lastName);
        console.log("schoolName:", schoolName);
        console.log("instrument:", instrument);
        console.log("lessonIds:", lessonIds);
        console.log("lessonDayTimes:", lessonDayTimes);
        console.log("lessons:", lessons);
        console.log("groupIds:", groupIds);
        console.log("groupNames:", groupNames);
        console.log("groups:", groups);
        console.log("year:", yearLevel);
        console.log("formClass:", formClass);
        console.log("email:", email);
        console.log("lesson group id:", lessonGroupIds);

        const studentRow = $(`
          <tr id="student${studentId}">
            <td style="padding-left: var(--normal)">
              <button id="studentBtn${studentId}" class="student-name-btn">
                <p>${firstName}</p>
                <p>${lastName}</p>
              </button>
            </td>
            <td class="school${schoolId}">${schoolName}</td>
            <td>${instrument}</td>
            <td >${lessons
              .map(
                (lesson) =>
                  `<p id="lesson${lesson.id}" ${
                    lesson.groupId
                      ? `class="lessonGroupId${lesson.groupId}"`
                      : ""
                  }>${lesson.day + " " + lesson.time}</p>`
              )
              .join("")}</td>
            <td class="flex-column" >${groups
              .map(
                (group) =>
                  `<btn class="group${group.id} group-btn">${group.name}</btn>`
              )
              .join("")}</td>
            <td>${yearLevel}</td>
            <td>${formClass}</td>
            <td>${email}</td>
            <td><button class="edit-btn">edit</button></td>
          </tr>
          `);
        tbody.append(studentRow);
      }
    } catch (e) {
      console.log("Failed to render students:", e);
    }

    // Link to details functionality
    $(".student-name-btn").click(function () {
      // stop new page from being opened whilst editing
      if (editing) {
        return false;
      }
      const id = $(this).attr("id").split("student")[1];
      localStorage.setItem("selected-student-id", JSON.stringify(id));
      location.href = "detailed-student.html";
    });

    //function to open detailed group page and set selected group id
    $(".group-btn").click(function () {
      // stop new page from being opened whilst editing
      if (editing) {
        return false;
      }
      const id = $(this).attr("class").split(" ")[0].split("group")[1];
      localStorage.setItem("selected-group-id", JSON.stringify(id));
      location.href = "detailed-group.html";
    });

    // Function for student edit buttons
    $(".edit-btn").click(function () {
      if (editing) {
        return false;
      }

      editing = true;

      // over-arching variables
      const row = $(this).closest("tr");
      const tds = row.children("td");

      // rendering variables
      const studentId = parseInt(row.attr("id").replace("student", ""));
      const firstName = tds.eq(0).find("button p").eq(0).html();
      const lastName = tds.eq(0).find("button p").eq(1).html();

      // Extract school info
      const schoolId = tds.eq(1).attr("class").replace("school", "");
      const schoolName = tds.eq(1).html();

      const instrument = tds.eq(2).html();

      // Extract lessons array
      const lessons = tds
        .eq(3)
        .find("p")
        .map(function () {
          const p = $(this);
          const fullText = p.text().split(" ");
          const className = p.attr("class") || "";
          return {
            id: p.attr("id").replace("lesson", ""),
            day: fullText[0],
            time: fullText[1],
            groupId: className.replace("lessonGroupId", "") || null,
          };
        })
        .get();

      // Extract groups array
      const groups = tds
        .eq(4)
        .find("btn")
        .map(function () {
          const btn = $(this);
          return {
            id: btn.attr("class").split(" ")[0].replace("group", ""),
            name: btn.text(),
          };
        })
        .get();

      const yearLevel = tds.eq(5).html();
      const formClass = tds.eq(6).html();
      const email = tds.eq(7).html();

      // Logs for verification
      console.log("studentId:", studentId);
      console.log("firstName:", firstName);
      console.log("lastName:", lastName);
      console.log("schoolId:", schoolId);
      console.log("schoolName:", schoolName);
      console.log("instrument:", instrument);
      console.log("lessons:", lessons);
      console.log("groups:", groups);
      console.log("year:", yearLevel);
      console.log("formClass:", formClass);
      console.log("email:", email);

      row.empty();

      const inputs = $(`
            <td class="flex-column">
              <input placeholder="first name" style="width: 80%" id="first-name" value="${firstName}"/>
              <input placeholder="last name" style="width: 80%" id="last-name" value="${lastName}"/>
            </td>
            <td>
              <div id="school-container" class="flex-row">
                <p id="school-name" class="school${schoolId}">${schoolName}</p>
                <button id="change-school-btn">-</button>
                <input style="width: 80%" class="display-none" type="search" placeholder="school name" id="school-search-input" />
                <button class="display-none" id="school-search-btn">Search</button>
                <ul id="school-dropdown" >
                </ul>
              </div>
            </td>
            <td><input placeholder="instrument" style="width: 60%" id="instrument" value="${instrument}" /></td>
            <td id="lessons-container" class="flex-column">${
              lessons.length > 0
                ? lessons
                    .map((lesson, index) => {
                      if (
                        !lesson.groupId ||
                        lesson.groupId === "" ||
                        lesson.groupId === null
                      ) {
                        return `
              <div class="flex-row lesson-row" ${
                lesson.id ? `id="lesson${lesson.id}"` : ""
              }>
                <div class="day-selector-container">
                  <button class="daySelectButton dropdown-toggle">${
                    lesson.day
                  }</button>
                  <ul class="dayDropdown dropdown-menu">
                    <li><a href="#" data-day="Mon">Mon</a></li>
                    <li><a href="#" data-day="Tue">Tue</a></li>
                    <li><a href="#" data-day="Wed">Wed</a></li>
                    <li><a href="#" data-day="Thu">Thu</a></li>
                    <li><a href="#" data-day="Fri">Fri</a></li>
                  </ul>
                </div>
                <input class="lesson-time-input" type="time" value="${
                  lesson.time
                }" />
                ${
                  index + 1 === lessons.length
                    ? `<button id="add-lesson-btn" data-initial="true">+</button>`
                    : `<button data-initial="true" class="remove-lesson-btn">-</button>`
                }
              </div>
              `;
                      } else {
                        return `<div class="group-lesson flex-row lesson-row" ${
                          lesson.id ? `id="lesson${lesson.id}"` : ""
                        }>
              <p ${
                lesson.groupId ? `class="lessonGroupId${lesson.groupId}"` : ""
              }>${lesson.day + " " + lesson.time}</p>${
                          index + 1 === lessons.length
                            ? `<button id="add-lesson-btn" data-initial="true">+</button>`
                            : ""
                        }</div>`;
                      }
                    })
                    .join("")
                : `<div class="flex-row lesson-row"> 
                      <div class="day-selector-container">
                          <button class="daySelectButton dropdown-toggle">Day</button>
                          <ul class="dayDropdown dropdown-menu">
                              <li><a href="#" data-day="Mon">Mon</a></li>
                              <li><a href="#" data-day="Tue">Tue</a></li>
                              <li><a href="#" data-day="Wed">Wed</a></li>
                              <li><a href="#" data-day="Thu">Thu</a></li>
                              <li><a href="#" data-day="Fri">Fri</a></li>
                          </ul>
                      </div>
                      <input class="lesson-time-input" type="time" value="" />
                      <button id="add-lesson-btn" data-initial="true">+</button>
                  </div>`
            }</td>
            <td id="groups-container">
              ${
                groups.length > 0
                  ? groups.map(
                      (group) => `<div class="flex-row">
                    <p class="group${group.id}">${group.name}</p>
                    <button class="remove-group-btn">-</button>
                  </div>`
                    )
                  : ""
              }
              <div class="flex-row group-search-container">
                <input type="search" placeholder="group name" id="group-search" />
                <button id="group-search-btn">Search</button>
                <ul id="group-dropdown">
                </ul>
              </div>
            </td>
            <td><input  placeholer="year" style="width: 30%" id="year-level" value="${yearLevel}" /></td>
            <td><input placeholder="form" style="width: 50%" id="form-class" value="${formClass}" /></td>
            <td><input placeholder="email" style="width: 100%" id="email" value="${email}" /></td>
            <td><button id="save-edit-btn">save</button><button id="cancel-btn" onclick="location.reload()">cancel</button><button class="delete-btn" id="delete-btn">delete</button></td>
            `);

      row.append(inputs);

      // Delete button functionality
      $("#delete-btn").click(function () {
        $("#delete-confirmation").css("display", "flex");
      });
      // cancel deletion
      $("#reject-confirmation").click(function () {
        $("#delete-confirmation").css("display", "none");
      });
      // confirm deletion and remove from database
      $("#confirm-deletion").click(function () {
        const actualYear = year;
        let res;
        try {
          res = db.exec(
            `DELETE FROM students_${actualYear} WHERE id='${studentId}'`
          );
          console.log(
            "Successfully deleted student of id:",
            studentId,
            "and all data referencing it."
          );
        } catch (e) {
          console.log("Failed to delete student of id: ", studentId, e);
          return false;
        }
        // save updated database to localStorage
        // Export the database to a Uint8Array
        const uint8Array = db.export();
        console.log("Binary array:", uint8Array);
        // convert to base64 string to upload to db
        const base64String = uint8ArrayToBase64(uint8Array);
        console.log("base64string:", base64String);
        localStorage.setItem("dbBase64String", base64String);
        console.log("db with sample data saved to localStorage");
        // reload page
        location.reload();
      });

      // --- Group functionality ---
      // fetch group data for dropdown search results
      const actualYear = year;
      let groupData = [];
      let groupIds = [];
      let selectedGroups = [];
      let res;
      try {
        res = db.exec(`SELECT id, name FROM groups_${actualYear}`);
        const values = res[0].values;
        const columns = res[0].columns;
        groupData = values.map((row) => {
          const group = {};
          columns.forEach((col, index) => {
            group[col] = row[index];
          });
          groupIds.push(group.id);
          return group;
        });
        const containerChildren = $("#groups-container");
        // get selected groups
        $("#groups-container")
          .children()
          .each(function () {
            if ($(this).is(":last-child") === false) {
              const classValue = $(this).children().first().attr("class");
              if (classValue) {
                const groupId = parseInt(classValue.split("group")[1]);
                if (!isNaN(groupId)) selectedGroups.push(groupId);
              }
            }
          });
        console.log("selected groups:", selectedGroups);
        console.log("Successfully fetched group data");
      } catch (e) {
        console.log("Failed to fetch group data:", e);
      }
      // group remove button
      $("#groups-container").on("click", ".remove-group-btn", function () {
        const rmBtn = $(this);
        const groupNameP = rmBtn.prev();
        console.log("group name p class:", groupNameP.attr("class"));
        const groupName = groupNameP.text();
        const groupId = parseInt(groupNameP.attr("class").split("group")[1]);
        const groupDiv = rmBtn.parent();
        const groupsContainer = groupDiv.parent();
        groupDiv.remove();
        selectedGroups = selectedGroups.filter((item) => item !== groupId);
        // check if any lessons were linked to the removed group and remove them.
        const lessonsContainerChildren = $("#lessons-container").children();
        const numChildren = lessonsContainerChildren.length;
        lessonsContainerChildren.each((index, child) => {
          if (
            $(child).find("p").length > 0 &&
            $(child).find("p").attr("class")
          ) {
            const p = $(child).find("p");
            const linkedGroupId = p.attr("class").split("lessonGroupId")[1];
            if (parseInt(linkedGroupId) === groupId) {
              $(child).remove();
              if (numChildren === 1) {
                $("#lessons-container").append(`
                  <div class="flex-row lesson-row">
              <div class="day-selector-container">
                  <button class="daySelectButton dropdown-toggle">Day</button>
                  <ul class="dayDropdown dropdown-menu">
                      <li><a href="#" data-day="Mon">Mon</a></li>
                      <li><a href="#" data-day="Tue">Tue</a></li>
                      <li><a href="#" data-day="Wed">Wed</a></li>
                      <li><a href="#" data-day="Thu">Thu</a></li>
                      <li><a href="#" data-day="Fri">Fri</a></li>
                  </ul>
              </div>
              <input class="lesson-time-input" type="time" value=""/>
              <button id="add-lesson-btn">+</button>
          </div>
                  `);
              }
            }
          }
        });
      });
      // group search button
      $("#groups-container").on("click", "#group-search-btn", function () {
        const dropdown = $("#group-dropdown");
        const groupInput = $("#group-search");
        const query = groupInput.val();
        console.log("group ids", groupIds);
        const filteredGroups = groupData.filter(
          (group) => !selectedGroups.includes(group.id)
        );
        console.log("filtered groups:", filteredGroups);
        console.log("Group search query:", query);
        dropdown.empty();
        // render school data
        try {
          if (filteredGroups.length > 0) {
            let numUnmatched = 0;
            for (let i = 0; i < filteredGroups.length; i++) {
              const nameMatches = filteredGroups[i].name
                .toLowerCase()
                .includes(query.toLowerCase());
              if (nameMatches) {
                dropdown.append(`
              <li data-value="${filteredGroups[i].id}" data-name="${filteredGroups[i].name}">${filteredGroups[i].name}</li>
              `);
              } else {
                numUnmatched += 1;
                if (numUnmatched === filteredGroups.length) {
                  dropdown.append(`<li id="no-group-results">No results</li>`);
                }
              }
            }
            dropdown.removeClass("display-none");
            dropdown.show();
          } else {
            dropdown.append(`<li id="no-group-results">No results</li>`);
          }
          console.log("Successfully rendered group data in dropdown");
        } catch (e) {
          console.log("Failed to render group data in of search dropdown:", e);
        }
      });
      // select group on li click
      $("#groups-container").off("click", "#group-dropdown li");
      $("#groups-container").on("click", "#group-dropdown li", function () {
        // fetch necessary variables
        const actualYear = year;
        const id = $(this).data("value");
        const name = $(this).data("name");
        const groupsContainer = $("#groups-container");
        const dropdown = $("#group-dropdown");
        // fetch related lessons
        let res;
        let groupLessonData = false;
        try {
          res = db.exec(
            `
              SELECT id, day, time FROM lessons_${actualYear} WHERE group_id = ${id};
            `
          );
          if (res[0].values.length > 0) {
            const values = res[0].values;
            const columns = res[0].columns;
            groupLessonData = values.map((row) => {
              const lesson = {};
              columns.forEach((col, index) => {
                lesson[col] = row[index];
              });
              return lesson;
            });
          }
          console.log("Successfully fetched group lesson data!");
        } catch (e) {
          console.log("Failed to fetch group lesson data:", e);
        }
        // render group lessons
        if (groupLessonData && groupLessonData.length > 0) {
          groupLessonData.forEach((lesson) => {
            const lessonsContainer = $("#lessons-container");
            lessonsContainer.prepend(
              `
              <div class="group-lesson flex-row lesson-row" id="lesson${lesson.id}">
                <p class="lessonGroupId${id}">${lesson.day} ${lesson.time}</p>
              </div>
              `
            );
          });
        }
        // update group ids list
        selectedGroups.push(id);
        // render selected group
        groupsContainer.prepend(
          ` <div class="flex-row">
              <p class="group${id}">
                ${name}
              </p>
              <button class="remove-group-btn">-</button>
            </div>`
        );
        // hide dropdown
        dropdown.hide();
      });
      // hide dropdown when clicking outside the container
      $(document).on("click", function (e) {
        if (!$(e.target).closest("#groups-container").length) {
          $("#group-dropdown").hide();
        }
      });

      // --- School functionality ---
      let schoolData;
      // function to populate the dropdown with schools
      $("#change-school-btn").click(function () {
        const actualYear = year;
        let res;
        // fetch school data
        try {
          res = db.exec(`SELECT id, name FROM schools_${actualYear}`);
          const values = res[0].values;
          const columns = res[0].columns;
          schoolData = values.map((row) => {
            const school = {};
            columns.forEach((col, index) => {
              school[col] = row[index];
            });
            return school;
          });
          console.log(
            "Successfully fetched names and ids from the schools table"
          );
        } catch (e) {
          console.log("Failed to fetch ids and names from the schools table");
          return false;
        }
        $(this).hide();
        $("#school-name").hide().removeClass();
        $("#school-search-input").show();
        $("#school-search-btn").show();
      });
      // search btn pressed => display relevant results
      $("#school-search-btn").click(function () {
        const schoolInput = $("#school-search-input");
        const query = schoolInput.val();
        console.log("search query:", query);
        const schoolDropdown = $("#school-dropdown");
        schoolDropdown.empty();
        // render school data
        try {
          if (schoolData.length > 0) {
            let numUnmatched = 0;
            for (let i = 0; i < schoolData.length; i++) {
              const nameMatches = schoolData[i].name
                .toLowerCase()
                .includes(query.toLowerCase());
              if (nameMatches) {
                schoolDropdown.append(`
              <li data-value="${schoolData[i].id}" data-name="${schoolData[i].name}">${schoolData[i].name}</li>
              `);
              } else {
                numUnmatched += 1;
                if (numUnmatched === schoolData.length) {
                  schoolDropdown.append(
                    `<li id="no-school-results">No results</li>`
                  );
                }
              }
            }
            schoolDropdown.removeClass("display-none");
            schoolDropdown.show();
          } else {
            schoolDropdown.append(`<li id="no-school-results">No results</li>`);
          }
          console.log("Successfully rendered school data in dropdown");
        } catch (e) {
          console.log("Failed to render school data in of search dropdown:", e);
        }
      });
      // select school on li click
      $("#school-container").off("click", "#school-dropdown li");
      $("#school-container").on("click", "#school-dropdown li", function () {
        // fetch necessary variables
        const id = $(this).data("value");
        const name = $(this).data("name");
        // fetch elements
        const schoolNameP = $("#school-name");
        const changeSchoolBtn = $("#change-school-btn");
        const input = $("#school-search-input");
        const searchBtn = $("#school-search-btn");
        const dropDown = $("#school-dropdown");
        // update elements
        schoolNameP.text(name);
        schoolNameP.attr("class", `school${id}`);
        // hide elements
        input.hide();
        searchBtn.hide();
        dropDown.hide();
        // show elements
        schoolNameP.show();
        changeSchoolBtn.show();
      });
      // hide dropdown when clicking outside the container
      $(document).on("click", function (e) {
        if (!$(e.target).closest("#school-container").length) {
          $("#school-dropdown").hide();
        }
      });

      // --- Lessons functionality ---
      const lessonTd = row.children().eq(3); // can't use tds because it contains the elements before they were switched to inputs
      lessonTd.off("click"); // Clear any previous handlers
      // function to add new lesson input row ---
      lessonTd.on("click", "#add-lesson-btn", function (e) {
        e.preventDefault();
        e.stopImmediatePropagation(); // Prevents other handlers from seeing this click
        console.log("add button clicked");
        // Remove the '+' button from the current row and replace with '-'
        if ($(this).parent().hasClass("group-lesson")) {
          $(this).hide();
          console.log("is group lesson");
        } else {
          $(this).attr("id", "").addClass("remove-lesson-btn").text("-");
        }
        // Add the new blank row with the '+' button
        const newRow = `
          <div class="flex-row lesson-row">
              <div class="day-selector-container">
                  <button class="daySelectButton dropdown-toggle">Day</button>
                  <ul class="dayDropdown dropdown-menu">
                      <li><a href="#" data-day="Mon">Mon</a></li>
                      <li><a href="#" data-day="Tue">Tue</a></li>
                      <li><a href="#" data-day="Wed">Wed</a></li>
                      <li><a href="#" data-day="Thu">Thu</a></li>
                      <li><a href="#" data-day="Fri">Fri</a></li>
                  </ul>
              </div>
              <input class="lesson-time-input" type="time" value=""/>
              <button id="add-lesson-btn">+</button>
          </div>
          `;
        lessonTd.append(newRow);
      });
      // function to remove a lesson input row
      lessonTd.on("click", ".remove-lesson-btn", function () {
        const rowToRemove = $(this).closest(".lesson-row");
        const isLastRow = rowToRemove.is(":last-child");
        rowToRemove.hide();
        // if the row removed was the last one, ensure the new last row has the '+' button
        if (isLastRow && lessonTd.find(".lesson-row").length > 0) {
          const newLastRow = lessonTd.find(".lesson-row").last();
          const actionButton = newLastRow.find("button").last();
          if (actionButton.text() === "-") {
            actionButton
              .text("+")
              .attr("id", "add-lesson-btn")
              .removeClass("remove-lesson-btn");
          }
        }
      });
      // remove Lesson Handler (using delegation on lessonTd)
      lessonTd.on("click", ".remove-lesson-btn", function () {
        $(this).closest(".lesson-row").hide();
      });
      // dropdown Functionality (using delegation on lessonTd)
      // toggle the dropdown when the button is clicked
      lessonTd.on("click", ".daySelectButton", function (e) {
        e.stopPropagation();
        $(this).siblings(".dayDropdown").toggleClass("show");
      });
      // handle selection from the dropdown
      lessonTd.on("click", ".dayDropdown li a", function (e) {
        e.preventDefault();
        const selectedDayText = $(this).text();
        const $container = $(this).closest(".day-selector-container");
        $container.find(".daySelectButton").text(selectedDayText);
        $(this).closest(".dayDropdown").removeClass("show");
      });
      // close the dropdown when clicking anywhere else on the document (Global)
      $(document).on("click", function (e) {
        if (!$(e.target).closest(".day-selector-container").length) {
          $(".dayDropdown.show").removeClass("show");
        }
      });

      // --- Save edit functionality ---
      $("#save-edit-btn").click(function () {
        const actualYear = year;
        isAllValid = true;
        invalidMessages = [];

        // sanitisation function
        const sanitise = (str) => {
          return str.replace(/'/g, "''").replace(/`/g, "``").trim();
        };

        // fetch multi-inputs
        const lessonsContainer = $("#lessons-container");
        const groupsContainer = $("#groups-container");

        // fetch values from inputs
        const id = row.attr("id").split("student")[1]
          ? sanitise(row.attr("id").split("student")[1])
          : "";
        const firstName = $("#first-name").val()
          ? sanitise($("#first-name").val())
          : "";
        const lastName = $("#last-name").val()
          ? sanitise($("#last-name").val())
          : "";
        const schoolId = $("#school-container")
          .find("p")
          .attr("class")
          .split("school")[1]
          ? sanitise(
              $("#school-container").find("p").attr("class").split("school")[1]
            )
          : "";
        const instrument = $("#instrument").val()
          ? sanitise($("#instrument").val())
          : "";
        const lessons = $("#lessons-container")
          .children()
          .map((index, div) => {
            const $div = $(div);

            // 1. Get the ID and check if it's a valid integer
            const rawId = ($div.attr("id") || "").replace("lesson", "");
            const isIntegerId = rawId !== "" && !isNaN(rawId);

            // 2. Identify the type of row
            const isGroupLesson = $div.hasClass("group-lesson");
            const isHidden = $div.is(":hidden"); // Correct way to check style="display:none"

            // Logic: We only want to process individual lessons (not group-lessons)
            if (!isGroupLesson) {
              const day = $div.find(".daySelectButton").text().trim();
              const time = $div.find(".lesson-time-input").val();

              // Condition: Valid day/time entered
              if (day !== "Day" && time !== "") {
                // Case A: The lesson is hidden (Marked for removal)
                if (isHidden && isIntegerId) {
                  return {
                    day: day,
                    time: time,
                    remove: true,
                    id: parseInt(rawId),
                  };
                }

                // Case B: The lesson is visible (Keep/Update/New)
                else if (!isHidden) {
                  const lessonObj = { day: day, time: time, remove: false };
                  if (isIntegerId) lessonObj.id = parseInt(rawId); // Include ID if it exists
                  return lessonObj;
                }
              }
            }
          });
        const groupIds = groupsContainer.children().map((index, div) => {
          if (!$(div).hasClass("group-search-container")) {
            const id = $(div).find("p").attr("class").split("group")[1];
            return id;
          }
        });
        const yearLevel = $("#year-level").val()
          ? sanitise($("#year-level").val())
          : "";
        const email = $("#email").val() ? sanitise($("#email").val()) : "";
        const formClass = $("#form-class").val()
          ? sanitise($("#form-class").val())
          : "";

        checkIntValid("ID", id, 0, 999999);
        checkStringValid("First name", firstName, 1, 50);
        checkStringValid("Last name", lastName, 0, 50);
        checkStringValid("Form class", formClass, 0, 20);
        checkIntValid("School ID", schoolId, 0, 999999);
        checkStringValid("Instrument", instrument, 0, 50);
        checkIntValid("Year level", yearLevel, 0, 30);
        checkEmailValid("Email", email, 0, 50);

        console.log("id:", id);
        console.log("firstName:", firstName);
        console.log("lastName:", lastName);
        console.log("formClass:", formClass);
        console.log("schoolId:", schoolId);
        console.log("instrument:", instrument);
        console.log("lessons:", lessons.get()); // .get() converts jQuery map to a plain array
        console.log("groupIds:", groupIds.get());
        console.log("yearLevel:", yearLevel);
        console.log("email:", email);

        // check if all inputs are valid and show pop up
        if (!isAllValid) {
          $("#invalid-input").css("display", "flex");
          const appendInvalid = $("#append-invalid");
          for (let i = 0; i < invalidMessages.length; i++) {
            appendInvalid.append($(`<p>${invalidMessages[i]}</p>`));
          }
          return false;
        }

        // make null values "NULL" string for sql queries
        const nullify = (val) =>
          val === "" || val === null ? "NULL" : `'${val}'`;

        // execute insertion query
        try {
          console.log(
            `
            -- 1. Update core student details
            UPDATE students_${actualYear}
            SET
              first_name = ${nullify(firstName)},
              last_name = ${nullify(lastName)},
              form_class = ${nullify(formClass)},
              school_id = ${schoolId === "" ? "NULL" : schoolId},
              instrument = ${nullify(instrument)},
              year = ${yearLevel === "" ? "NULL" : yearLevel},
              email = ${nullify(email)}
            WHERE id = ${id};

            -- 2. Sync Group Memberships
            -- First, remove old links
            DELETE FROM join_groups_students_${actualYear} 
            WHERE student_id = ${id};

            -- Then, insert current links
            ${groupIds
              .get()
              .map(
                (gId) => `
              INSERT INTO join_groups_students_${actualYear} (student_id, group_id)
              VALUES (${id}, ${gId});
            `
              )
              .join("\n")}

            -- 3. Sync Individual Lessons
            -- Since these are student-specific lessons, we clear and re-add 
            -- (or you could implement an ID-based check like your inspiration code)
            -- DELETE FROM lessons_${actualYear} 
            -- WHERE student_id = ${id} AND group_id IS NULL;

            ${lessons
              .get()
              .map((lesson) =>
                lesson.remove && lesson.id
                  ? `DELETE FROM lessons_${actualYear} WHERE id = ${lesson.id};`
                  : lesson.id && !lesson.remove
                  ? `
                  UPDATE lessons_${actualYear} 
                  SET 
                  day = ${nullify(lesson.day)}
                  time = ${nullify(lesson.time)}
                  student_id = ${nullify(lesson.studentId)}
                  WHERE id = ${lesson.id}r
                  `
                  : !lesson.id
                  ? `
              INSERT INTO lessons_${actualYear} (day, time, student_id)
              VALUES (${nullify(lesson.day)}, ${nullify(lesson.time)}, ${id});
            `
                  : ""
              )
              .join("\n")}
          `
          );
          // run query
          db.exec(
            `
            -- 1. Update core student details
            UPDATE students_${actualYear}
            SET
              first_name = ${nullify(firstName)},
              last_name = ${nullify(lastName)},
              form_class = ${nullify(formClass)},
              school_id = ${schoolId === "" ? "NULL" : schoolId},
              instrument = ${nullify(instrument)},
              year = ${yearLevel === "" ? "NULL" : yearLevel},
              email = ${nullify(email)}
            WHERE id = ${id};

            -- 2. Sync Group Memberships
            -- First, remove old links
            DELETE FROM join_groups_students_${actualYear} 
            WHERE student_id = ${id};

            -- Then, insert current links
            ${groupIds
              .get()
              .map(
                (gId) => `
              INSERT INTO join_groups_students_${actualYear} (student_id, group_id)
              VALUES (${id}, ${gId});
            `
              )
              .join("\n")}

            -- 3. Sync Individual Lessons
            -- Since these are student-specific lessons, we clear and re-add 
            -- (or you could implement an ID-based check like your inspiration code)
            -- DELETE FROM lessons_${actualYear} 
            -- WHERE student_id = ${id} AND group_id IS NULL;

            ${lessons
              .get()
              .map((lesson) =>
                lesson.remove && lesson.id
                  ? `DELETE FROM lessons_${actualYear} WHERE id = ${lesson.id};`
                  : lesson.id && !lesson.remove
                  ? `
                  UPDATE lessons_${actualYear} 
                  SET 
                  day = ${nullify(lesson.day)},
                  time = ${nullify(lesson.time)},
                  student_id = ${id}
                  WHERE id = ${lesson.id}
                  `
                  : !lesson.id
                  ? `
              INSERT INTO lessons_${actualYear} (day, time, student_id)
              VALUES (${nullify(lesson.day)}, ${nullify(lesson.time)}, ${id});
            `
                  : ""
              )
              .join("\n")}
          `
          );
          console.log("Successfully updated the student!");

          // save updated database to localStorage
          // Export the database to a Uint8Array
          const uint8Array = db.export();
          console.log("Binary array:", uint8Array);
          // convert to base64 string to upload to db
          const base64String = uint8ArrayToBase64(uint8Array);
          console.log("base64string:", base64String);
          localStorage.setItem("dbBase64String", base64String);
          console.log("db with updated data added saved to localStorage");

          // reload page to rerender table
          location.reload();
        } catch (e) {
          console.log("Failed to update student", e);
        }
      });
    });
  }
  getStudents(year);

  // onclick add a row with input boxes for adding a student and their data
  $("#add-student").click(function () {
    if (editing) {
      return false;
    }

    editing = true;

    // select table body to append data to
    const tbody = $("#table-body");
    const tr = $("<tr id='add-student-row'></tr>"); // create row element to append inputs to
    tr.append(
      '<td><input id="first-name" type="text" placeholder="first name" style="width: 80%"/><input id="last-name" type="text" placeholder="last name" style="width: 80%"/></td>'
    );
    tr.append(
      `<td>
      <div id="school-container" class="flex-row">
                <p id="school-name" class="display-none"></p>
                <button id="change-school-btn" class="display-none">-</button>
                <input style="width: 80%"  type="search" placeholder="school name" id="school-search-input" />
                <button id="school-search-btn">Search</button>
                <ul id="school-dropdown" >
                </ul>
              </div>
      </td>`
    );
    tr.append(
      '<td><input id="instrument" type="text" placeholder="instrument" style="width: 80%"/></td>'
    );
    tr.append(
      `<td id="lessons-container" class="flex-column">${`<div class="flex-row lesson-row"> 
                      <div class="day-selector-container">
                          <button class="daySelectButton dropdown-toggle">Day</button>
                          <ul class="dayDropdown dropdown-menu">
                              <li><a href="#" data-day="Mon">Mon</a></li>
                              <li><a href="#" data-day="Tue">Tue</a></li>
                              <li><a href="#" data-day="Wed">Wed</a></li>
                              <li><a href="#" data-day="Thu">Thu</a></li>
                              <li><a href="#" data-day="Fri">Fri</a></li>
                          </ul>
                      </div>
                      <input class="lesson-time-input" type="time" value="" />
                      <button id="add-lesson-btn" data-initial="true">+</button>
                  </div>`}</td>`
    );
    tr.append(
      `<td id="groups-container">
              <div class="flex-row group-search-container">
                <input type="search" placeholder="group name" id="group-search" />
                <button id="group-search-btn">Search</button>
                <ul id="group-dropdown">
                </ul>
              </div>
            </td>`
    );
    tr.append(
      '<td><input id="year-level" placeholder="year" style="width: 30%" /></td>'
    );
    tr.append(
      '<td><input id="form-class" type="text" placeholder="form" style="width: 50%"/></td>'
    );
    tr.append('<td><input id="email" type="email" placeholder="email"/></td>');
    tr.append(
      '<td><button id="save-student" style="margin-right: 4px">save</button><button id="cancel-add">cancel</button></td>'
    );

    tbody.prepend(tr);
  });

  // on cancel, reload page
  $("#table-body").on("click", "#cancel-add", function () {
    location.reload();
  });

  // --- Group functionality ---
  // fetch group data for dropdown search results
  const actualYear = year;
  let groupData = [];
  let groupIds = [];
  let selectedGroups = [];
  let groupRes;
  try {
    groupRes = db.exec(`SELECT id, name FROM groups_${actualYear}`);
    const values = groupRes[0].values;
    const columns = groupRes[0].columns;
    groupData = values.map((row) => {
      const group = {};
      columns.forEach((col, index) => {
        group[col] = row[index];
      });
      groupIds.push(group.id);
      return group;
    });
    console.log("Successfully fetched group data");
  } catch (e) {
    console.log("Failed to fetch group data:", e);
  }
  // group remove button
  $("#table-body").on("click", ".remove-group-btn", function () {
    const rmBtn = $(this);
    const groupNameP = rmBtn.prev();
    console.log("group name p class:", groupNameP.attr("class"));
    const groupName = groupNameP.text();
    const groupId = parseInt(groupNameP.attr("class").split("group")[1]);
    const groupDiv = rmBtn.parent();
    const groupsContainer = groupDiv.parent();
    groupDiv.remove();
    selectedGroups = selectedGroups.filter((item) => item !== groupId);
    // check if any lessons were linked to the removed group and remove them.
    const lessonsContainerChildren = $("#lessons-container").children();
    const numChildren = lessonsContainerChildren.length;
    lessonsContainerChildren.each((index, child) => {
      if ($(child).find("p").length > 0 && $(child).find("p").attr("class")) {
        const p = $(child).find("p");
        const linkedGroupId = p.attr("class").split("lessonGroupId")[1];
        if (parseInt(linkedGroupId) === groupId) {
          $(child).remove();
          if (numChildren === 1) {
            $("#lessons-container").append(`
                  <div class="flex-row lesson-row">
              <div class="day-selector-container">
                  <button class="daySelectButton dropdown-toggle">Day</button>
                  <ul class="dayDropdown dropdown-menu">
                      <li><a href="#" data-day="Mon">Mon</a></li>
                      <li><a href="#" data-day="Tue">Tue</a></li>
                      <li><a href="#" data-day="Wed">Wed</a></li>
                      <li><a href="#" data-day="Thu">Thu</a></li>
                      <li><a href="#" data-day="Fri">Fri</a></li>
                  </ul>
              </div>
              <input class="lesson-time-input" type="time" value=""/>
              <button id="add-lesson-btn">+</button>
          </div>
                  `);
          }
        }
      }
    });
  });
  // group search button
  $("#table-body").on("click", "#group-search-btn", function () {
    const dropdown = $("#group-dropdown");
    const groupInput = $("#group-search");
    const query = groupInput.val();
    console.log("group ids", groupIds);
    const filteredGroups = groupData.filter(
      (group) => !selectedGroups.includes(group.id)
    );
    console.log("filtered groups:", filteredGroups);
    console.log("Group search query:", query);
    dropdown.empty();
    // render school data
    try {
      if (filteredGroups.length > 0) {
        let numUnmatched = 0;
        for (let i = 0; i < filteredGroups.length; i++) {
          const nameMatches = filteredGroups[i].name
            .toLowerCase()
            .includes(query.toLowerCase());
          if (nameMatches) {
            dropdown.append(`
              <li data-value="${filteredGroups[i].id}" data-name="${filteredGroups[i].name}">${filteredGroups[i].name}</li>
              `);
          } else {
            numUnmatched += 1;
            if (numUnmatched === filteredGroups.length) {
              dropdown.append(`<li id="no-group-results">No results</li>`);
            }
          }
        }
        dropdown.removeClass("display-none");
        dropdown.show();
      } else {
        dropdown.append(`<li id="no-group-results">No results</li>`);
      }
      console.log("Successfully rendered group data in dropdown");
    } catch (e) {
      console.log("Failed to render group data in of search dropdown:", e);
    }
  });
  // select group on li click
  $("#table-body").off("click", "#group-dropdown li");
  $("#table-body").on("click", "#group-dropdown li", function () {
    // fetch necessary variables
    const actualYear = year;
    const id = $(this).data("value");
    const name = $(this).data("name");
    const groupsContainer = $("#groups-container");
    const dropdown = $("#group-dropdown");
    // fetch related lessons
    let res;
    let groupLessonData = false;
    try {
      res = db.exec(
        `
              SELECT id, day, time FROM lessons_${actualYear} WHERE group_id = ${id};
            `
      );
      if (res[0].values.length > 0) {
        const values = res[0].values;
        const columns = res[0].columns;
        groupLessonData = values.map((row) => {
          const lesson = {};
          columns.forEach((col, index) => {
            lesson[col] = row[index];
          });
          return lesson;
        });
      }
      console.log("Successfully fetched group lesson data!");
    } catch (e) {
      console.log("Failed to fetch group lesson data:", e);
    }
    // render group lessons
    if (groupLessonData && groupLessonData.length > 0) {
      groupLessonData.forEach((lesson) => {
        const lessonsContainer = $("#lessons-container");
        lessonsContainer.prepend(
          `
              <div class="group-lesson flex-row lesson-row" id="lesson${lesson.id}">
                <p class="lessonGroupId${id}">${lesson.day} ${lesson.time}</p>
              </div>
              `
        );
      });
    }
    // update group ids list
    selectedGroups.push(id);
    // render selected group
    groupsContainer.prepend(
      ` <div class="flex-row">
              <p class="group${id}">
                ${name}
              </p>
              <button class="remove-group-btn">-</button>
            </div>`
    );
    // hide dropdown
    dropdown.hide();
  });
  // hide dropdown when clicking outside the container
  $(document).on("click", function (e) {
    if (!$(e.target).closest("#groups-container").length) {
      $("#group-dropdown").hide();
    }
  });

  // --- Lessons functionality ---
  $("#table-body").off("click", "#lessons-container"); // Clear any previous handlers
  // function to add new lesson input row ---
  $("#table-body").on("click", "#add-lesson-btn", function (e) {
    e.preventDefault();
    e.stopImmediatePropagation(); // Prevents other handlers from seeing this click

    console.log("add button clicked");
    // Remove the '+' button from the current row and replace with '-'
    if ($(this).parent().hasClass("group-lesson")) {
      $(this).hide();
    } else {
      $(this).attr("id", "").addClass("remove-lesson-btn").text("-");
    }
    // Add the new blank row with the '+' button
    const newRow = `
      <div class="flex-row lesson-row">
          <div class="day-selector-container">
              <button class="daySelectButton dropdown-toggle">Day</button>
              <ul class="dayDropdown dropdown-menu">
                  <li><a href="#" data-day="Mon">Mon</a></li>
                  <li><a href="#" data-day="Tue">Tue</a></li>
                  <li><a href="#" data-day="Wed">Wed</a></li>
                  <li><a href="#" data-day="Thu">Thu</a></li>
                  <li><a href="#" data-day="Fri">Fri</a></li>
              </ul>
          </div>
          <input class="lesson-time-input" type="time" value=""/>
          <button id="add-lesson-btn">+</button>
      </div>
      `;
    $("#lessons-container").append(newRow);
  });
  // function to remove a lesson input row
  $("#table-body").on("click", ".remove-lesson-btn", function () {
    const rowToRemove = $(this).closest(".lesson-row");
    const isLastRow = rowToRemove.is(":last-child");
    rowToRemove.hide();
    // if the row removed was the last one, ensure the new last row has the '+' button
    if (isLastRow && lessonTd.find(".lesson-row").length > 0) {
      const newLastRow = lessonTd.find(".lesson-row").last();
      const actionButton = newLastRow.find("button").last();
      if (actionButton.text() === "-") {
        actionButton
          .text("+")
          .attr("id", "add-lesson-btn")
          .removeClass("remove-lesson-btn");
      }
    }
  });
  // remove Lesson Handler (using delegation on lessonTd)
  $("#table-body").on("click", ".remove-lesson-btn", function () {
    $(this).closest(".lesson-row").hide();
  });
  // dropdown Functionality (using delegation on lessonTd)
  // toggle the dropdown when the button is clicked
  $("#table-body").on("click", ".daySelectButton", function (e) {
    e.stopPropagation();
    $(this).siblings(".dayDropdown").toggleClass("show");
  });
  // handle selection from the dropdown
  $("#table-body").on("click", ".dayDropdown li a", function (e) {
    e.preventDefault();
    const selectedDayText = $(this).text();
    const $container = $(this).closest(".day-selector-container");
    $container.find(".daySelectButton").text(selectedDayText);
    $(this).closest(".dayDropdown").removeClass("show");
  });
  // close the dropdown when clicking anywhere else on the document (Global)
  $(document).on("click", function (e) {
    if (!$(e.target).closest(".day-selector-container").length) {
      $(".dayDropdown.show").removeClass("show");
    }
  });

  // --- School functionality ---
  // fetch initial school data
  let schoolData;

  let res;
  // fetch school data
  try {
    res = db.exec(`SELECT id, name FROM schools_${actualYear}`);
    const values = res[0].values;
    const columns = res[0].columns;
    schoolData = values.map((row) => {
      const school = {};
      columns.forEach((col, index) => {
        school[col] = row[index];
      });
      return school;
    });
    console.log("Successfully fetched names and ids from the schools table");
  } catch (e) {
    console.log("Failed to fetch ids and names from the schools table");
    return false;
  }
  $("#change-school-btn").hide().removeClass();
  $("#school-name").hide();
  $("#school-search-input").show();
  $("#school-search-btn").show();
  // function to populate the dropdown with schools
  $("#table-body").on("click", "#change-school-btn", function () {
    let res;
    // fetch school data
    try {
      res = db.exec(`SELECT id, name FROM schools_${actualYear}`);
      const values = res[0].values;
      const columns = res[0].columns;
      schoolData = values.map((row) => {
        const school = {};
        columns.forEach((col, index) => {
          school[col] = row[index];
        });
        return school;
      });
      console.log("Successfully fetched names and ids from the schools table");
    } catch (e) {
      console.log("Failed to fetch ids and names from the schools table");
      return false;
    }
    $(this).hide();
    $("#school-name").hide();
    $("#school-search-input").show();
    $("#school-search-btn").show();
  });
  // search btn pressed => display relevant results
  $("#table-body").on("click", "#school-search-btn", function () {
    const schoolInput = $("#school-search-input");
    const query = schoolInput.val();
    console.log("search query:", query);
    const schoolDropdown = $("#school-dropdown");
    schoolDropdown.empty();
    // render school data
    try {
      if (schoolData.length > 0) {
        let numUnmatched = 0;
        for (let i = 0; i < schoolData.length; i++) {
          const nameMatches = schoolData[i].name
            .toLowerCase()
            .includes(query.toLowerCase());
          if (nameMatches) {
            schoolDropdown.append(`
        <li data-value="${schoolData[i].id}" data-name="${schoolData[i].name}">${schoolData[i].name}</li>
        `);
          } else {
            numUnmatched += 1;
            if (numUnmatched === schoolData.length) {
              schoolDropdown.append(
                `<li id="no-school-results">No results</li>`
              );
            }
          }
        }
        schoolDropdown.removeClass("display-none");
        schoolDropdown.show();
      } else {
        schoolDropdown.append(`<li id="no-school-results">No results</li>`);
      }
      console.log("Successfully rendered school data in dropdown");
    } catch (e) {
      console.log("Failed to render school data in of search dropdown:", e);
    }
  });
  // select school on li click
  $("#table-body").off("click", "#school-dropdown li");
  $("#table-body").on("click", "#school-dropdown li", function () {
    // fetch necessary variables
    const id = $(this).data("value");
    const name = $(this).data("name");
    // fetch elements
    const schoolNameP = $("#school-name");
    const changeSchoolBtn = $("#change-school-btn");
    const input = $("#school-search-input");
    const searchBtn = $("#school-search-btn");
    const dropDown = $("#school-dropdown");
    // update elements
    schoolNameP.text(name);
    schoolNameP.attr("class", `school${id}`);
    // hide elements
    input.hide();
    searchBtn.hide();
    dropDown.hide();
    // show elements
    schoolNameP.show();
    changeSchoolBtn.show();
  });
  // hide dropdown when clicking outside the container
  $(document).on("click", function (e) {
    if (!$(e.target).closest("#school-container").length) {
      $("#school-dropdown").hide();
    }
  });

  // onclick save data inputed into student input fields
  // --- Save edit functionality ---
  $("#table-body").on("click", "#save-student", function () {
    const actualYear = year;
    isAllValid = true;
    invalidMessages = [];

    // sanitisation function
    const sanitise = (str) => {
      return str.replace(/'/g, "''").replace(/`/g, "``").trim();
    };

    // fetch multi-inputs
    const lessonsContainer = $("#lessons-container");
    const groupsContainer = $("#groups-container");

    // fetch values from inputs
    const firstName = $("#first-name").val()
      ? sanitise($("#first-name").val())
      : "";
    const lastName = $("#last-name").val()
      ? sanitise($("#last-name").val())
      : "";
    const schoolId = $("#school-container")
      .find("p")
      .attr("class")
      .split("school")[1]
      ? sanitise(
          $("#school-container").find("p").attr("class").split("school")[1]
        )
      : "";
    const instrument = $("#instrument").val()
      ? sanitise($("#instrument").val())
      : "";
    const lessons = $("#lessons-container")
      .children()
      .map((index, div) => {
        const $div = $(div);

        // 1. Get the ID and check if it's a valid integer
        const rawId = ($div.attr("id") || "").replace("lesson", "");
        const isIntegerId = rawId !== "" && !isNaN(rawId);

        // 2. Identify the type of row
        const isGroupLesson = $div.hasClass("group-lesson");
        const isHidden = $div.is(":hidden"); // Correct way to check style="display:none"

        // Logic: We only want to process individual lessons (not group-lessons)
        if (!isGroupLesson) {
          const day = $div.find(".daySelectButton").text().trim();
          const time = $div.find(".lesson-time-input").val();

          // Condition: Valid day/time entered
          if (day !== "Day" && time !== "") {
            // Case A: The lesson is hidden (Marked for removal)
            if (isHidden && isIntegerId) {
              return {
                day: day,
                time: time,
                remove: true,
                id: parseInt(rawId),
              };
            }

            // Case B: The lesson is visible (Keep/Update/New)
            else if (!isHidden) {
              const lessonObj = { day: day, time: time, remove: false };
              if (isIntegerId) lessonObj.id = parseInt(rawId); // Include ID if it exists
              return lessonObj;
            }
          }
        }
      });
    const groupIds = groupsContainer.children().map((index, div) => {
      if (!$(div).hasClass("group-search-container")) {
        const id = $(div).find("p").attr("class").split("group")[1];
        return id;
      }
    });
    const yearLevel = $("#year-level").val()
      ? sanitise($("#year-level").val())
      : "";
    const email = $("#email").val() ? sanitise($("#email").val()) : "";
    const formClass = $("#form-class").val()
      ? sanitise($("#form-class").val())
      : "";

    checkStringValid("First name", firstName, 1, 50);
    checkStringValid("Last name", lastName, 0, 50);
    checkStringValid("Form class", formClass, 0, 20);
    checkIntValid("School ID", schoolId, 0, 999999);
    checkStringValid("Instrument", instrument, 0, 50);
    checkIntValid("Year level", yearLevel, 0, 30);
    checkEmailValid("Email", email, 0, 50);

    console.log("firstName:", firstName);
    console.log("lastName:", lastName);
    console.log("formClass", formClass);
    console.log("schoolId:", schoolId);
    console.log("instrument:", instrument);
    console.log("lessons:", lessons.get()); // .get() converts jQuery map to a plain array
    console.log("groupIds:", groupIds.get());
    console.log("yearLevel:", yearLevel);
    console.log("email:", email);

    // check if all inputs are valid and show pop up
    if (!isAllValid) {
      $("#invalid-input").css("display", "flex");
      const appendInvalid = $("#append-invalid");
      for (let i = 0; i < invalidMessages.length; i++) {
        appendInvalid.append($(`<p>${invalidMessages[i]}</p>`));
      }
      return false;
    }

    // make null values "NULL" string for sql queries
    const nullify = (val) => (val === "" || val === null ? "NULL" : `'${val}'`);

    // execute insertion query
    try {
      // run query
      db.exec(`
        -- 1. Add core student details
        INSERT INTO students_${actualYear} (
          first_name, 
          last_name, 
          form_class,
          school_id, 
          instrument, 
          year, 
          email
        ) VALUES (
          ${nullify(firstName)},
          ${nullify(lastName)},
          ${nullify(formClass)},
          ${schoolId === "" ? "NULL" : schoolId},
          ${nullify(instrument)},
          ${yearLevel === "" ? "NULL" : yearLevel},
          ${nullify(email)}
        );
      
        -- 2. Store the New Student ID in a CTE or a temp table isn't needed, 
        -- just use a subquery to keep it clean.
        
        -- 3. Sync Group Memberships
        ${groupIds
          .get()
          .map(
            (gId) => `
          INSERT INTO join_groups_students_${actualYear} (student_id, group_id)
          VALUES ((SELECT MAX(id) FROM students_${actualYear}), ${gId});
        `
          )
          .join("\n")}
      
        -- 4. Sync Individual Lessons
        ${lessons
          .get()
          .map((lesson) => {
            if (!lesson.id) {
              return `
              INSERT INTO lessons_${actualYear} (day, time, student_id)
              VALUES (
                ${nullify(lesson.day)}, 
                ${nullify(lesson.time)}, 
                (SELECT MAX(id) FROM students_${actualYear})
              );
            `;
            }
            return "";
          })
          .join("\n")}
      `);
      console.log("Successfully updated the student!");

      // save updated database to localStorage
      // Export the database to a Uint8Array
      const uint8Array = db.export();
      console.log("Binary array:", uint8Array);
      // convert to base64 string to upload to db
      const base64String = uint8ArrayToBase64(uint8Array);
      console.log("base64string:", base64String);
      localStorage.setItem("dbBase64String", base64String);
      console.log("db with updated data added saved to localStorage");

      // reload page to rerender table
      location.reload();
    } catch (e) {
      console.log("Failed to update student", e);
    }
  });
});
